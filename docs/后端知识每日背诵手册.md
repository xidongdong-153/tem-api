# ğŸ§  åç«¯çŸ¥è¯†æ¯æ—¥èƒŒè¯µæ‰‹å†Œ

> ğŸ’¡ **å‰ç«¯å¼€å‘è€…ä¸“ç”¨** | æ¯å¤©10åˆ†é’Ÿï¼Œå»ºç«‹åç«¯æ€ç»´

<p align="center">
  <img src="https://img.shields.io/badge/æ¯æ—¥æ—¶é—´-10åˆ†é’Ÿ-blue?style=for-the-badge" alt="æ¯æ—¥10åˆ†é’Ÿ" />
  <img src="https://img.shields.io/badge/è®°å¿†æ–¹å¼-å¼ºåŒ–èƒŒè¯µ-orange?style=for-the-badge" alt="å¼ºåŒ–èƒŒè¯µ" />
</p>

---

## ğŸ“š ä½¿ç”¨è¯´æ˜

**ğŸ¯ èƒŒè¯µæ–¹æ³•ï¼š**
1. **æ—©ä¸ŠèƒŒè¯µ**ï¼šèµ·åºŠåèŠ±5åˆ†é’ŸèƒŒè¯µå½“æ—¥å†…å®¹
2. **æ™šä¸Šå¤ä¹ **ï¼šç¡å‰èŠ±5åˆ†é’Ÿå¤ä¹ +å‰ä¸€å¤©å†…å®¹
3. **å‘¨æœ«æ€»ç»“**ï¼šæ¯å‘¨æœ«å¤ä¹ æœ¬å‘¨æ‰€æœ‰å†…å®¹
4. **å¯¹æ¯”è”æƒ³**ï¼šç”¨å‰ç«¯æ¦‚å¿µç±»æ¯”ç†è§£åç«¯æ¦‚å¿µ

**ğŸ“‹ èƒŒè¯µæŠ€å·§ï¼š**
- ğŸ—£ï¸ **å¤§å£°æœ—è¯»**ï¼šè¯´å‡ºæ¥æ¯”é»˜è¯»è®°å¾—æ›´ç‰¢
- ğŸ“ **æ‰‹å†™ç¬”è®°**ï¼šåŠ¨æ‰‹å†™æ¯”çœ‹æ›´æœ‰æ•ˆæœ
- ğŸ­ **è§’è‰²æ‰®æ¼”**ï¼šæŠŠè‡ªå·±å½“æˆåç«¯æ¶æ„å¸ˆ
- ğŸ¤” **ä¸¾ä¸€åä¸‰**ï¼šæƒ³æƒ³è¿™ä¸ªæ¦‚å¿µåœ¨ä½ é¡¹ç›®ä¸­çš„åº”ç”¨

**ğŸ“ˆ å­¦ä¹ è¿›åº¦è§„åˆ’ï¼ˆå·²ä¼˜åŒ–æ•´ç†ï¼‰ï¼š**
- **ç¬¬1å‘¨ï¼ˆ1-7å¤©ï¼‰**ï¼šæ ¸å¿ƒæ€ç»´è½¬æ¢ï¼Œå»ºç«‹åç«¯åŸºç¡€è®¤çŸ¥
- **ç¬¬2å‘¨ï¼ˆ8-20å¤©ï¼‰**ï¼šæ·±å…¥æ ¸å¿ƒç»„ä»¶ï¼ŒæŒæ¡NestJSæŠ€æœ¯ç»†èŠ‚
- **ç¬¬3å‘¨ï¼ˆ21-34å¤©ï¼‰**ï¼šä¼ä¸šçº§ç‰¹æ€§+åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå­¦ä¹ é«˜çº§æ¦‚å¿µ
- **ç¬¬4å‘¨ï¼ˆ35-41å¤©ï¼‰**ï¼šå®æˆ˜å¼€å‘å¥—è·¯ï¼Œå½¢æˆå®Œæ•´çŸ¥è¯†ä½“ç³»
- **ç¬¬5å‘¨ï¼ˆ42-48å¤©ï¼‰**ï¼šNode.jsåº•å±‚çŸ¥è¯†ï¼ˆå¯é€‰æ‰©å±•ï¼‰

**ğŸ“ ä¼˜åŒ–è¯´æ˜ï¼š**
- âœ… **åˆå¹¶é‡å¤å†…å®¹**ï¼šå°†åˆ†æ•£çš„ç½‘ç»œé€šä¿¡ã€ç¼“å­˜ã€è£…é¥°å™¨çŸ¥è¯†æ•´åˆ
- âœ… **ç²¾ç®€ç« èŠ‚**ï¼šä»51å¤©å‹ç¼©åˆ°48å¤©ï¼Œå»é™¤å†—ä½™é‡å¤
- âœ… **çŸ¥è¯†èšç„¦**ï¼šæ¯ä¸ªä¸»é¢˜é›†ä¸­åœ¨ä¸€ä¸ªç« èŠ‚ï¼Œé¿å…çŸ¥è¯†ç¢ç‰‡åŒ–
- âœ… **é€»è¾‘ä¼˜åŒ–**ï¼šé‡æ–°è°ƒæ•´å­¦ä¹ é¡ºåºï¼Œå¾ªåºæ¸è¿›æ›´åˆç†

---

## ğŸ“… ç¬¬1å‘¨ï¼šæ ¸å¿ƒæ€ç»´è½¬æ¢

### ğŸ“– ç¬¬1å¤©ï¼šåç«¯æ€ç»´ vs å‰ç«¯æ€ç»´

**ğŸ”„ æ ¸å¿ƒæ€ç»´å·®å¼‚ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
å‰ç«¯ç®¡"ç•Œé¢" â†’ åç«¯ç®¡"æ•°æ®"
å‰ç«¯ç®¡"å±•ç¤º" â†’ åç«¯ç®¡"é€»è¾‘"
å‰ç«¯ç®¡"ç”¨æˆ·ä½“éªŒ" â†’ åç«¯ç®¡"æ•°æ®å®‰å…¨"
å‰ç«¯ç®¡"å“åº”å¼" â†’ åç«¯ç®¡"æ— çŠ¶æ€"
```

**ğŸ  ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…è®°ï¼‰ï¼š**
- **å‰ç«¯** = é¤å…æœåŠ¡å‘˜ï¼ˆæ¥å¾…å®¢äººï¼Œå±•ç¤ºèœå•ï¼‰
- **åç«¯** = é¤å…åå¨ï¼ˆå¤„ç†è®¢å•ï¼Œåˆ¶ä½œèœå“ï¼‰
- **æ•°æ®åº“** = é£Ÿæä»“åº“ï¼ˆå­˜å‚¨åŸæ–™ï¼‰
- **API** = ä¼ èœçª—å£ï¼ˆå‰åç«¯æ²Ÿé€šæ¸ é“ï¼‰

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ— çŠ¶æ€æœåŠ¡**ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸è®°ä½ä¸Šæ¬¡çš„çŠ¶æ€
- **æ•°æ®æŒä¹…åŒ–**ï¼šæ•°æ®è¦æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œä¸èƒ½ä¸¢å¤±

### ğŸ“– ç¬¬2å¤©ï¼šNestJSæ¶æ„æ€ç»´

**ğŸ—ï¸ æ ¸å¿ƒæ¶æ„ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
Controllerï¼ˆæ§åˆ¶å™¨ï¼‰= Vueçš„äº‹ä»¶å¤„ç†
Serviceï¼ˆæœåŠ¡ï¼‰= Vueçš„methodsé€»è¾‘
Entityï¼ˆå®ä½“ï¼‰= Vueçš„dataç»“æ„
Moduleï¼ˆæ¨¡å—ï¼‰= Vueçš„ç»„ä»¶
```

**ğŸ”„ è¯·æ±‚ç”Ÿå‘½å‘¨æœŸï¼ˆå¿…è®°ï¼‰ï¼š**
```
1. å®¢æˆ·ç«¯å‘è¯·æ±‚ â†’ Controlleræ¥æ”¶
2. Controllerè°ƒç”¨ â†’ Serviceå¤„ç†ä¸šåŠ¡
3. Serviceæ“ä½œ â†’ Databaseå­˜å–æ•°æ®
4. Databaseè¿”å› â†’ Serviceå¤„ç†ç»“æœ
5. Serviceè¿”å› â†’ Controllerå“åº”å®¢æˆ·ç«¯
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **åˆ†å±‚æ¶æ„**ï¼šControllerâ†’Serviceâ†’Repositoryâ†’Databaseï¼Œå„å¸å…¶èŒ
- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªå±‚åªåšè‡ªå·±è¯¥åšçš„äº‹

### ğŸ“– ç¬¬3å¤©ï¼šä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰

**ğŸ’‰ ä¾èµ–æ³¨å…¥ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
// å‰ç«¯æ‰‹åŠ¨åˆ›å»º
const userService = new UserService()

// åç«¯è‡ªåŠ¨æ³¨å…¥
constructor(private userService: UserService) {}
```

**ğŸ¯ ä¾èµ–æ³¨å…¥å¥½å¤„ï¼ˆå¿…è®°ï¼‰ï¼š**
- **è‡ªåŠ¨åˆ›å»º**ï¼šæ¡†æ¶å¸®ä½ åˆ›å»ºå’Œç®¡ç†å¯¹è±¡
- **å•ä¾‹æ¨¡å¼**ï¼šåŒä¸€ä¸ªæœåŠ¡åœ¨æ•´ä¸ªåº”ç”¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹
- **æµ‹è¯•å‹å¥½**ï¼šå¯ä»¥è½»æ¾æ›¿æ¢æˆæµ‹è¯•ç”¨çš„å‡å¯¹è±¡

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **IoCå®¹å™¨**ï¼šåƒä¸ªæ™ºèƒ½å·¥å‚ï¼Œéœ€è¦ä»€ä¹ˆå°±ç»™ä½ åˆ›å»ºä»€ä¹ˆ
- **Provider**ï¼šå¯ä»¥è¢«æ³¨å…¥çš„æœåŠ¡

### ğŸ“– ç¬¬4å¤©ï¼šè£…é¥°å™¨ï¼ˆDecoratorï¼‰åŸºç¡€

**ğŸ­ è£…é¥°å™¨æœ¬è´¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// è£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ä¿®æ”¹ç±»ã€æ–¹æ³•ã€å±æ€§ç­‰
function MyDecorator(target: any) {
  // ç»™ç›®æ ‡å¯¹è±¡æ·»åŠ æˆ–ä¿®æ”¹åŠŸèƒ½
  return target
}

// ä½¿ç”¨è£…é¥°å™¨ç­‰ä»·äº
class MyClass {}
MyClass = MyDecorator(MyClass)
```

**ğŸ”§ å¸¸ç”¨NestJSè£…é¥°å™¨ï¼ˆå¿…è®°ï¼‰ï¼š**
- `@Controller()` = å®šä¹‰è·¯ç”±æ§åˆ¶å™¨
- `@Get()/@Post()` = å®šä¹‰HTTPæ–¹æ³•
- `@Injectable()` = æ ‡è®°å¯æ³¨å…¥æœåŠ¡
- `@Module()` = å®šä¹‰æ¨¡å—

**ğŸ¯ è£…é¥°å™¨çš„å››ç§ç±»å‹ä¸é‡è¦å‚æ•°ï¼ˆå¿…èƒŒï¼‰ï¼š**

**1. ç±»è£…é¥°å™¨ï¼š**
```typescript
function ClassDecorator(target: Function) {
  // target: è¢«è£…é¥°çš„ç±»çš„æ„é€ å‡½æ•°
}
```

**2. æ–¹æ³•è£…é¥°å™¨ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼š**
```typescript
function MethodDecorator(
  target: any,                    // ç±»çš„åŸå‹å¯¹è±¡
  propertyKey: string,            // æ–¹æ³•åç§°
  descriptor: PropertyDescriptor  // æ–¹æ³•æè¿°ç¬¦ï¼ˆå¯ä¿®æ”¹æ–¹æ³•è¡Œä¸ºï¼‰
) {}
```

**3. å±æ€§è£…é¥°å™¨ï¼š**
```typescript
function PropertyDecorator(
  target: any,          // ç±»çš„åŸå‹å¯¹è±¡
  propertyKey: string   // å±æ€§åç§°
) {}
```

**4. å‚æ•°è£…é¥°å™¨ï¼š**
```typescript
function ParameterDecorator(
  target: any,          // ç±»çš„åŸå‹å¯¹è±¡
  propertyKey: string,  // æ–¹æ³•åç§°
  parameterIndex: number // å‚æ•°ç´¢å¼•ä½ç½®
) {}
```

**ğŸ“ å…³é”®è¦ç‚¹ï¼š**
- **target**ï¼šå§‹ç»ˆæ˜¯è¢«è£…é¥°çš„å¯¹è±¡
- **propertyKey**ï¼šæ–¹æ³•/å±æ€§çš„åç§°å­—ç¬¦ä¸²
- **descriptor**ï¼šæ–¹æ³•è£…é¥°å™¨ç‹¬æœ‰ï¼Œç”¨äºä¿®æ”¹æ–¹æ³•è¡Œä¸º
- **parameterIndex**ï¼šå‚æ•°è£…é¥°å™¨ç‹¬æœ‰ï¼Œæ ‡è¯†å‚æ•°ä½ç½®

### ğŸ“– ç¬¬5å¤©ï¼šæ¨¡å—åŒ–æ€ç»´

**ğŸ§© æ¨¡å—åŒ–å¯¹æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
// Vueç»„ä»¶
export default {
  components: { UserList },  // å­ç»„ä»¶
  props: ['users'],          // è¾“å…¥
  methods: { createUser }    // æ–¹æ³•
}

// NestJSæ¨¡å—
@Module({
  imports: [DatabaseModule],    // ä¾èµ–æ¨¡å—
  controllers: [UserController], // æ§åˆ¶å™¨
  providers: [UserService],     // æœåŠ¡
  exports: [UserService]        // å¯¹å¤–å¯¼å‡º
})
```

**ğŸ¯ æ¨¡å—è®¾è®¡åŸåˆ™ï¼ˆå¿…è®°ï¼‰ï¼š**
- **é«˜å†…èš**ï¼šæ¨¡å—å†…éƒ¨åŠŸèƒ½ç´§å¯†ç›¸å…³
- **ä½è€¦åˆ**ï¼šæ¨¡å—ä¹‹é—´ä¾èµ–å…³ç³»ç®€å•
- **å•ä¸€èŒè´£**ï¼šä¸€ä¸ªæ¨¡å—è´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ

### ğŸ“– ç¬¬6å¤©ï¼šç½‘ç»œé€šä¿¡åŸºç¡€

**ğŸŒ ç½‘ç»œåè®®åˆ†å±‚ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
åº”ç”¨å±‚ï¼šHTTPã€HTTPSã€FTPã€SMTPï¼ˆæˆ‘ä»¬å†™çš„APIï¼‰
ä¼ è¾“å±‚ï¼šTCPã€UDPï¼ˆæ•°æ®å¦‚ä½•ä¼ è¾“ï¼‰
ç½‘ç»œå±‚ï¼šIPï¼ˆæ•°æ®è·¯ç”±å¯»å€ï¼‰
é“¾è·¯å±‚ï¼šä»¥å¤ªç½‘ï¼ˆç‰©ç†ä¼ è¾“ï¼‰
```

**ğŸ“¡ HTTPåè®®æ ¸å¿ƒï¼ˆå¿…èƒŒï¼‰ï¼š**
```
HTTPè¯·æ±‚æµç¨‹ï¼š
å®¢æˆ·ç«¯ â†’ [è¯·æ±‚] â†’ æœåŠ¡å™¨ â†’ [å“åº”] â†’ å®¢æˆ·ç«¯
       â†“                    â†“
   åŒ…å«ï¼šæ–¹æ³•+è·¯å¾„+å¤´éƒ¨+æ•°æ®    åŒ…å«ï¼šçŠ¶æ€ç +å¤´éƒ¨+æ•°æ®

çŠ¶æ€ç åˆ†ç±»ï¼š
2xxï¼šæˆåŠŸï¼ˆ200 OKï¼Œ201 Createdï¼Œ204 No Contentï¼‰
4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ï¼ˆ400 å‚æ•°é”™è¯¯ï¼Œ401 æœªè®¤è¯ï¼Œ403 ç¦æ­¢è®¿é—®ï¼Œ404 ä¸å­˜åœ¨ï¼‰
5xxï¼šæœåŠ¡å™¨é”™è¯¯ï¼ˆ500 å†…éƒ¨é”™è¯¯ï¼Œ502 ç½‘å…³é”™è¯¯ï¼Œ503 æœåŠ¡ä¸å¯ç”¨ï¼‰
```

**âš¡ TCP vs UDPå¯¹æ¯”ï¼ˆå¿…è®°ï¼‰ï¼š**
- **TCPï¼ˆå¯é ä¼ è¾“ï¼‰**ï¼šé¢å‘è¿æ¥ã€ä¿è¯å¯é æ€§ã€é€‚åˆHTTP/æ•°æ®åº“
- **UDPï¼ˆå¿«é€Ÿä¼ è¾“ï¼‰**ï¼šæ— è¿æ¥ã€é€Ÿåº¦å¿«ã€é€‚åˆè§†é¢‘æµ/æ¸¸æˆ

**ğŸ”— RPC vs HTTPï¼ˆå¿…èƒŒï¼‰ï¼š**
- **RPC**ï¼šé¢å‘è¿‡ç¨‹è°ƒç”¨ã€æ€§èƒ½æ›´é«˜ã€å¾®æœåŠ¡å†…éƒ¨é€šä¿¡
- **HTTP**ï¼šé¢å‘èµ„æºæ“ä½œã€é€šç”¨æ ‡å‡†ã€å¯¹å¤–APIæ¥å£

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **RESTful API**ï¼šç”¨HTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œï¼ˆGETæŸ¥è¯¢ï¼ŒPOSTåˆ›å»ºï¼ŒPUTæ›´æ–°ï¼ŒDELETEåˆ é™¤ï¼‰
- **ä¸‰æ¬¡æ¡æ‰‹**ï¼šTCPå»ºç«‹è¿æ¥çš„è¿‡ç¨‹
- **keep-alive**ï¼šHTTPè¿æ¥å¤ç”¨æœºåˆ¶

### ğŸ“– ç¬¬7å¤©ï¼šç¬¬ä¸€å‘¨æ€»ç»“

**ğŸ§  æ ¸å¿ƒæ€ç»´è½¬æ¢æ€»ç»“ï¼ˆå¿…èƒŒ3éï¼‰ï¼š**
1. **æ•°æ®ä¸­å¿ƒæ€ç»´**ï¼šä¸€åˆ‡å›´ç»•æ•°æ®çš„å¢åˆ æ”¹æŸ¥
2. **åˆ†å±‚æ¶æ„æ€ç»´**ï¼šæ¯ä¸€å±‚å„å¸å…¶èŒï¼Œä¸è¶Šç•Œ
3. **æœåŠ¡åŒ–æ€ç»´**ï¼šæŠŠåŠŸèƒ½æ‹†åˆ†æˆç‹¬ç«‹çš„æœåŠ¡
4. **æ— çŠ¶æ€æ€ç»´**ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„
5. **ä¾èµ–æ³¨å…¥æ€ç»´**ï¼šè®©æ¡†æ¶ç®¡ç†å¯¹è±¡åˆ›å»º

---

## ğŸ“… ç¬¬2å‘¨ï¼šæ ¸å¿ƒç»„ä»¶æ·±å…¥

### ğŸ“– ç¬¬8å¤©ï¼šControllerï¼ˆæ§åˆ¶å™¨ï¼‰

**ğŸ¯ ControllerèŒè´£ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. æ¥æ”¶HTTPè¯·æ±‚
2. éªŒè¯è¯·æ±‚å‚æ•°
3. è°ƒç”¨Serviceå¤„ç†ä¸šåŠ¡
4. è¿”å›HTTPå“åº”
```

**ğŸ”§ Controllerå†™æ³•ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
@Controller('users')  // è·¯ç”±å‰ç¼€
export class UsersController {
  @Get()              // GET /api/users
  @Post()             // POST /api/users
  @Get(':id')         // GET /api/users/123
  @Put(':id')         // PUT /api/users/123
  @Delete(':id')      // DELETE /api/users/123
}
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **è·¯ç”±**ï¼šURLè·¯å¾„ä¸å¤„ç†å‡½æ•°çš„æ˜ å°„
- **RESTfulè®¾è®¡**ï¼šç”¨URLè¡¨ç¤ºèµ„æºï¼Œç”¨HTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œ

### ğŸ“– ç¬¬9å¤©ï¼šServiceï¼ˆæœåŠ¡å±‚ï¼‰

**âš™ï¸ ServiceèŒè´£ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ä¸šåŠ¡é€»è¾‘å¤„ç†
2. æ•°æ®éªŒè¯
3. è°ƒç”¨æ•°æ®åº“æ“ä½œ
4. äº‹åŠ¡ç®¡ç†
```

**ğŸ­ Service vs Controllerï¼ˆå¿…è®°ï¼‰ï¼š**
- **Controller**ï¼šè–„è–„ä¸€å±‚ï¼Œåªè´Ÿè´£HTTPç›¸å…³
- **Service**ï¼šåšåšä¸€å±‚ï¼ŒåŒ…å«æ‰€æœ‰ä¸šåŠ¡é€»è¾‘
- **åŸåˆ™**ï¼šControllerä¸å†™ä¸šåŠ¡é€»è¾‘ï¼ŒServiceä¸ç¢°HTTP

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **ä¸šåŠ¡é€»è¾‘**ï¼šåº”ç”¨çš„æ ¸å¿ƒè§„åˆ™å’Œæµç¨‹
- **äº‹åŠ¡**ï¼šè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥

### ğŸ“– ç¬¬10å¤©ï¼šDTOï¼ˆæ•°æ®ä¼ è¾“å¯¹è±¡ï¼‰

**ğŸ“¦ DTOä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. å®šä¹‰APIè¾“å…¥è¾“å‡ºæ ¼å¼
2. è‡ªåŠ¨éªŒè¯æ•°æ®
3. è‡ªåŠ¨è½¬æ¢ç±»å‹
4. ç”ŸæˆAPIæ–‡æ¡£
```

**âœ… DTOéªŒè¯è£…é¥°å™¨ï¼ˆå¿…è®°ï¼‰ï¼š**
- `@IsString()` = å¿…é¡»æ˜¯å­—ç¬¦ä¸²
- `@IsEmail()` = å¿…é¡»æ˜¯é‚®ç®±æ ¼å¼
- `@MinLength(6)` = æœ€å°é•¿åº¦6ä½
- `@IsOptional()` = å¯é€‰å­—æ®µ

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ•°æ®å¥‘çº¦**ï¼šå‰åç«¯æ•°æ®äº¤æ¢çš„çº¦å®š
- **éªŒè¯åœ¨æœåŠ¡ç«¯**ï¼šæ°¸è¿œä¸ä¿¡ä»»å®¢æˆ·ç«¯æ•°æ®

### ğŸ“– ç¬¬11å¤©ï¼šEntityï¼ˆå®ä½“ï¼‰

**ğŸ›ï¸ Entityä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. å®šä¹‰æ•°æ®åº“è¡¨ç»“æ„
2. å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰
3. æ•°æ®éªŒè¯çº¦æŸ
4. å…³ç³»å®šä¹‰
```

**ğŸ”— Entityè£…é¥°å™¨ï¼ˆå¿…è®°ï¼‰ï¼š**
- `@Entity()` = æ ‡è®°ä¸ºæ•°æ®åº“è¡¨
- `@PrimaryKey()` = ä¸»é”®
- `@Property()` = æ™®é€šå­—æ®µ
- `@Unique()` = å”¯ä¸€çº¦æŸ

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **ORM**ï¼šç”¨å¯¹è±¡çš„æ–¹å¼æ“ä½œæ•°æ®åº“
- **ActiveRecordæ¨¡å¼**ï¼šå®ä½“å¯¹è±¡åŒ…å«æ•°æ®+æ“ä½œæ–¹æ³•

### ğŸ“– ç¬¬12å¤©ï¼šRepositoryï¼ˆä»“å‚¨å±‚ï¼‰

**ğŸ›ï¸ Repositoryä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. æ•°æ®è®¿é—®å°è£…
2. æŸ¥è¯¢é€»è¾‘é›†ä¸­
3. ä¸šåŠ¡ä¸æ•°æ®åˆ†ç¦»
4. ç»Ÿä¸€æ•°æ®æ“ä½œæ¥å£
```

**ğŸ”„ Repository vs Serviceï¼ˆå¿…è®°ï¼‰ï¼š**
- **Repository**ï¼šä¸“æ³¨æ•°æ®è®¿é—®ï¼ŒåªåšCRUD
- **Service**ï¼šä¸“æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨Repository
- **åŸåˆ™**ï¼šRepositoryä¸å†™ä¸šåŠ¡é€»è¾‘ï¼ŒServiceä¸ç›´æ¥æ“ä½œæ•°æ®åº“

**ğŸ¯ Repositoryæ¨¡å¼ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
// å‰ç«¯çŠ¶æ€ç®¡ç†
const userStore = useUserStore()  // ç»Ÿä¸€ç®¡ç†ç”¨æˆ·æ•°æ®

// åç«¯Repository
const userRepository = new UserRepository()  // ç»Ÿä¸€ç®¡ç†ç”¨æˆ·æ•°æ®è®¿é—®
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ•°æ®è®¿é—®å±‚**ï¼šä¸“é—¨è´Ÿè´£ä¸æ•°æ®åº“äº¤äº’çš„å±‚æ¬¡
- **æŸ¥è¯¢å°è£…**ï¼šæŠŠå¤æ‚çš„æ•°æ®åº“æŸ¥è¯¢å°è£…æˆç®€å•çš„æ–¹æ³•

### ğŸ“– ç¬¬13å¤©ï¼šGuardï¼ˆå®ˆå«ï¼‰

**ğŸ›¡ï¸ Guardä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. æƒé™æ£€æŸ¥
2. èº«ä»½éªŒè¯
3. è§’è‰²éªŒè¯
4. è¯·æ±‚æ‹¦æˆª
```

**ğŸ” Guardæ‰§è¡Œæ—¶æœºï¼ˆå¿…è®°ï¼‰ï¼š**
```
è¯·æ±‚ â†’ Guardæ£€æŸ¥ â†’ Controlleræ‰§è¡Œ
     â†“
   é€šè¿‡ç»§ç»­ï¼Œä¸é€šè¿‡ç›´æ¥è¿”å›é”™è¯¯
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **è®¤è¯**ï¼šä½ æ˜¯è°ï¼ˆAuthenticationï¼‰
- **æˆæƒ**ï¼šä½ èƒ½åšä»€ä¹ˆï¼ˆAuthorizationï¼‰

### ğŸ“– ç¬¬14å¤©ï¼šInterceptorï¼ˆæ‹¦æˆªå™¨ï¼‰

**ğŸ”„ Interceptorä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. è¯·æ±‚å‰å¤„ç†
2. å“åº”åå¤„ç†
3. ç»Ÿä¸€æ—¥å¿—è®°å½•
4. ç»Ÿä¸€å“åº”æ ¼å¼
```

**â° Interceptoræ‰§è¡Œé¡ºåºï¼ˆå¿…è®°ï¼‰ï¼š**
```
è¯·æ±‚ â†’ æ‹¦æˆªå™¨å‰ç½® â†’ Controller â†’ æ‹¦æˆªå™¨åç½® â†’ å“åº”
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **AOP**ï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ¨ªåˆ‡å…³æ³¨ç‚¹
- **ç®¡é“æ¨¡å¼**ï¼šæ•°æ®æµç»å¤šä¸ªå¤„ç†å™¨

### ğŸ“– ç¬¬15å¤©ï¼šè£…é¥°å™¨æ·±å…¥ä¸å®è·µ

**ğŸ¯ è£…é¥°å™¨å››ç§ç±»å‹ä¸å‚æ•°ï¼ˆå¿…èƒŒï¼‰ï¼š**

**1. ç±»è£…é¥°å™¨ï¼š**
```typescript
function ClassDecorator(target: Function) {
  // target: è¢«è£…é¥°çš„ç±»çš„æ„é€ å‡½æ•°
}
```

**2. æ–¹æ³•è£…é¥°å™¨ï¼ˆæœ€å¸¸ç”¨ï¼‰ï¼š**
```typescript
function MethodDecorator(
  target: any,                    // ç±»çš„åŸå‹å¯¹è±¡
  propertyKey: string,            // æ–¹æ³•åç§°
  descriptor: PropertyDescriptor  // æ–¹æ³•æè¿°ç¬¦ï¼ˆå¯ä¿®æ”¹æ–¹æ³•è¡Œä¸ºï¼‰
) {}
```

**3. å±æ€§è£…é¥°å™¨ï¼š**
```typescript
function PropertyDecorator(
  target: any,          // ç±»çš„åŸå‹å¯¹è±¡
  propertyKey: string   // å±æ€§åç§°
) {}
```

**4. å‚æ•°è£…é¥°å™¨ï¼š**
```typescript
function ParameterDecorator(
  target: any,          // ç±»çš„åŸå‹å¯¹è±¡
  propertyKey: string,  // æ–¹æ³•åç§°
  parameterIndex: number // å‚æ•°ç´¢å¼•ä½ç½®
) {}
```

**ğŸ”§ å®ç”¨è£…é¥°å™¨æ¡ˆä¾‹ï¼ˆå¿…è®°ï¼‰ï¼š**

**1. ç¼“å­˜è£…é¥°å™¨ï¼š**
```typescript
export function Cacheable(ttl: number = 300) {
  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value
    
    descriptor.value = async function (...args: any[]) {
      const cacheKey = `${propertyKey}:${JSON.stringify(args)}`
      
      let result = await this.cacheService.get(cacheKey)
      if (!result) {
        result = await originalMethod.apply(this, args)
        await this.cacheService.set(cacheKey, result, ttl)
      }
      
      return result
    }
  }
}
```

**2. æ€§èƒ½ç›‘æ§è£…é¥°å™¨ï¼š**
```typescript
function Performance(threshold = 1000) {
  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value
    
    descriptor.value = async function (...args: any[]) {
      const start = Date.now()
      const result = await originalMethod.apply(this, args)
      const duration = Date.now() - start
      
      if (duration > threshold) {
        console.warn(`æ…¢æ–¹æ³•: ${propertyKey} è€—æ—¶ ${duration}ms`)
      }
      return result
    }
  }
}
```

**ğŸ“ å…³é”®è¦ç‚¹ï¼š**
- **target**ï¼šå§‹ç»ˆæ˜¯è¢«è£…é¥°çš„å¯¹è±¡
- **propertyKey**ï¼šæ–¹æ³•/å±æ€§çš„åç§°å­—ç¬¦ä¸²
- **descriptor**ï¼šæ–¹æ³•è£…é¥°å™¨ç‹¬æœ‰ï¼Œç”¨äºä¿®æ”¹æ–¹æ³•è¡Œä¸º
- **originalMethod.apply(this, args)**ï¼šè°ƒç”¨åŸæ–¹æ³•å¹¶ä¿æŒthisç»‘å®š

### ğŸ“– ç¬¬16å¤©ï¼šæ¨¡å—ç³»ç»Ÿä¸åŒ…ç®¡ç†

**ğŸ“¦ Node.jsæ¨¡å—ç³»ç»Ÿï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// CommonJSå¯¼å‡ºå¯¼å…¥
module.exports = { name: 'test' }    // å®Œæ•´æ›¿æ¢
exports.name = 'test'                // å±æ€§å¯¼å‡º
const fs = require('fs')             // å¯¼å…¥æ¨¡å—

// ES6æ¨¡å—
export default class User {}         // é»˜è®¤å¯¼å‡º
export { UserService }              // å‘½åå¯¼å‡º
import User from './user'            // å¯¼å…¥é»˜è®¤
import { UserService } from './user' // å¯¼å…¥å‘½å
```

**ğŸ”„ CommonJS vs ES6æ¨¡å—ï¼ˆå¿…è®°ï¼‰ï¼š**
- **CommonJS**ï¼šè¿è¡Œæ—¶åŠ è½½ã€å€¼æ‹·è´ã€åŒæ­¥åŠ è½½ã€thisæŒ‡å‘å½“å‰æ¨¡å—
- **ES6æ¨¡å—**ï¼šç¼–è¯‘æ—¶é™æ€åˆ†æã€å€¼å¼•ç”¨ï¼ˆæ´»ç»‘å®šï¼‰ã€å¼‚æ­¥åŠ è½½ã€thisæŒ‡å‘undefined

**ğŸ¯ NestJSæ¨¡å—åŒ–è®¾è®¡ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
@Module({
  imports: [DatabaseModule],    // ä¾èµ–æ¨¡å—
  controllers: [UserController], // æ§åˆ¶å™¨
  providers: [UserService],     // æœåŠ¡
  exports: [UserService]        // å¯¹å¤–å¯¼å‡º
})

// æ¨¡å—è®¾è®¡åŸåˆ™ï¼š
// é«˜å†…èšï¼šæ¨¡å—å†…éƒ¨åŠŸèƒ½ç´§å¯†ç›¸å…³
// ä½è€¦åˆï¼šæ¨¡å—ä¹‹é—´ä¾èµ–å…³ç³»ç®€å•
// å•ä¸€èŒè´£ï¼šä¸€ä¸ªæ¨¡å—è´Ÿè´£ä¸€ä¸ªä¸šåŠ¡é¢†åŸŸ
```

**ğŸ“ åŒ…ç®¡ç†å™¨å¯¹æ¯”ï¼ˆå¿…è®°ï¼‰ï¼š**
- **npm**ï¼šå®˜æ–¹åŒ…ç®¡ç†å™¨ï¼ŒåŠŸèƒ½å…¨é¢
- **yarn**ï¼šFacebookå¼€å‘ï¼Œæ›´å¿«æ›´å®‰å…¨
- **pnpm**ï¼šèŠ‚çœç£ç›˜ç©ºé—´ï¼Œç¬¦å·é“¾æ¥å…±äº«

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ¨¡å—ç¼“å­˜**ï¼šrequire.cacheå­˜å‚¨å·²åŠ è½½æ¨¡å—
- **å¾ªç¯ä¾èµ–**ï¼šæ¨¡å—ç›¸äº’å¼•ç”¨çš„å¤„ç†æœºåˆ¶
- **barrelå¯¼å‡º**ï¼šç”¨index.jsç»Ÿä¸€å¯¼å‡ºæ¨¡å—å†…å®¹

### ğŸ“– ç¬¬17å¤©ï¼šMiddlewareï¼ˆä¸­é—´ä»¶ï¼‰

**ğŸ”— Middlewareä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. è¯·æ±‚é¢„å¤„ç†
2. è·¨åŸŸå¤„ç†ï¼ˆCORSï¼‰
3. è¯·æ±‚æ—¥å¿—è®°å½•
4. è¯·æ±‚é™æµ
```

**âš¡ Middleware vs Interceptorï¼ˆå¿…è®°ï¼‰ï¼š**
- **Middleware**ï¼šè¯·æ±‚è¿›å…¥åº”ç”¨å‰å¤„ç†ï¼ˆæ›´åº•å±‚ï¼‰
- **Interceptor**ï¼šè¯·æ±‚è¿›å…¥Controllerå‰åå¤„ç†ï¼ˆæ›´é«˜å±‚ï¼‰
- **æ‰§è¡Œé¡ºåº**ï¼šMiddleware â†’ Guard â†’ Interceptor â†’ Controller

**ğŸ¯ Middlewareç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
// å°±åƒæœºåœºå®‰æ£€
Middleware = å®‰æ£€é—¨ï¼ˆæ‰€æœ‰äººéƒ½è¦è¿‡ï¼‰
Guard = èº«ä»½éªŒè¯ï¼ˆæ£€æŸ¥æŠ¤ç…§ï¼‰
Interceptor = æœåŠ¡å‘˜ï¼ˆæä¾›é¢å¤–æœåŠ¡ï¼‰
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **è¯·æ±‚ç®¡é“**ï¼šè¯·æ±‚ç»è¿‡å¤šä¸ªå¤„ç†å™¨çš„æµæ°´çº¿
- **å…¨å±€å¤„ç†**ï¼šå¯¹æ‰€æœ‰è¯·æ±‚ç»Ÿä¸€å¤„ç†

### ğŸ“– ç¬¬18å¤©ï¼šPipeï¼ˆç®¡é“ï¼‰

**ğŸš° Pipeä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. æ•°æ®éªŒè¯
2. æ•°æ®è½¬æ¢
3. ç±»å‹è½¬æ¢
4. å‚æ•°å¤„ç†
```

**ğŸ”„ Pipeå¤„ç†æµç¨‹ï¼ˆå¿…è®°ï¼‰ï¼š**
```
å®¢æˆ·ç«¯æ•°æ® â†’ PipeéªŒè¯è½¬æ¢ â†’ Controlleræ¥æ”¶
          â†“
      ä¸åˆæ³•å°±æŠ›å‡ºå¼‚å¸¸
```

**ğŸ¯ å¸¸ç”¨Pipeç±»å‹ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **ValidationPipe**ï¼šæ•°æ®éªŒè¯ç®¡é“
- **ParseIntPipe**ï¼šå­—ç¬¦ä¸²è½¬æ•°å­—
- **ParseBoolPipe**ï¼šå­—ç¬¦ä¸²è½¬å¸ƒå°”
- **ParseUUIDPipe**ï¼šéªŒè¯UUIDæ ¼å¼

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ•°æ®æµå¤„ç†**ï¼šæ•°æ®åœ¨ä¼ é€’è¿‡ç¨‹ä¸­çš„å˜æ¢
- **fail-faståŸåˆ™**ï¼šå‘ç°é”™è¯¯ç«‹å³åœæ­¢

### ğŸ“– ç¬¬19å¤©ï¼šProvideræ·±å…¥ç†è§£

**ğŸ­ Provideræ¦‚å¿µï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. å¯ä»¥è¢«æ³¨å…¥çš„ä»»ä½•å€¼
2. æœåŠ¡ã€å·¥å‚ã€å€¼éƒ½æ˜¯Provider
3. IoCå®¹å™¨ç®¡ç†Providerç”Ÿå‘½å‘¨æœŸ
4. æ”¯æŒå•ä¾‹ã€è¯·æ±‚ä½œç”¨åŸŸç­‰æ¨¡å¼
```

**ğŸ”§ Providerç±»å‹ï¼ˆå¿…è®°ï¼‰ï¼š**
- **Class Provider**ï¼šæœ€å¸¸è§ï¼Œæ³¨å…¥ç±»å®ä¾‹
- **Value Provider**ï¼šæ³¨å…¥å›ºå®šå€¼
- **Factory Provider**ï¼šåŠ¨æ€åˆ›å»ºå€¼
- **Existing Provider**ï¼šä¸ºç°æœ‰Provideråˆ›å»ºåˆ«å

**ğŸ¯ Providerä½œç”¨åŸŸï¼ˆå¿…èƒŒï¼‰ï¼š**
- **SINGLETON**ï¼šæ•´ä¸ªåº”ç”¨å…±äº«ä¸€ä¸ªå®ä¾‹
- **REQUEST**ï¼šæ¯ä¸ªè¯·æ±‚åˆ›å»ºæ–°å®ä¾‹
- **TRANSIENT**ï¼šæ¯æ¬¡æ³¨å…¥éƒ½åˆ›å»ºæ–°å®ä¾‹

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ§åˆ¶åè½¬**ï¼šä¸ç”¨æ‰‹åŠ¨åˆ›å»ºå¯¹è±¡ï¼Œç”±å®¹å™¨ç®¡ç†
- **ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šå®¹å™¨å†³å®šå¯¹è±¡ä½•æ—¶åˆ›å»ºå’Œé”€æ¯

### ğŸ“– ç¬¬20å¤©ï¼šç¬¬äºŒå‘¨æ€»ç»“

**ğŸ”§ æ ¸å¿ƒç»„ä»¶èŒè´£æ€»ç»“ï¼ˆå¿…èƒŒ3éï¼‰ï¼š**
1. **Controller**ï¼šHTTPå…¥å£ï¼Œè·¯ç”±åˆ†å‘
2. **Service**ï¼šä¸šåŠ¡é€»è¾‘ï¼Œæ ¸å¿ƒå¤„ç†
3. **Repository**ï¼šæ•°æ®è®¿é—®ï¼ŒæŸ¥è¯¢å°è£…
4. **DTO**ï¼šæ•°æ®éªŒè¯ï¼Œæ¥å£å¥‘çº¦
5. **Entity**ï¼šæ•°æ®æ¨¡å‹ï¼ŒORMæ˜ å°„
6. **Guard**ï¼šæƒé™æ§åˆ¶ï¼Œå®‰å…¨å®ˆæŠ¤
7. **Interceptor**ï¼šæ¨ªåˆ‡å¤„ç†ï¼Œç»Ÿä¸€æ ¼å¼
8. **Middleware**ï¼šè¯·æ±‚é¢„å¤„ç†ï¼Œå…¨å±€åŠŸèƒ½
9. **Pipe**ï¼šæ•°æ®è½¬æ¢ï¼Œå‚æ•°éªŒè¯

**ğŸŒ ç½‘ç»œé€šä¿¡åŸºç¡€æ€»ç»“ï¼ˆå¿…èƒŒ3éï¼‰ï¼š**
1. **HTTPåè®®**ï¼šæ— çŠ¶æ€è¯·æ±‚å“åº”ï¼ŒRESTful APIè®¾è®¡
2. **TCPåè®®**ï¼šå¯é è¿æ¥ï¼Œä¸‰æ¬¡æ¡æ‰‹ï¼Œé€‚åˆæ•°æ®ä¼ è¾“
3. **UDPåè®®**ï¼šå¿«é€Ÿæ— è¿æ¥ï¼Œé€‚åˆå®æ—¶åœºæ™¯
4. **RPCé€šä¿¡**ï¼šè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œå¾®æœåŠ¡å†…éƒ¨é€šä¿¡
5. **åè®®åˆ†å±‚**ï¼šåº”ç”¨å±‚â†’ä¼ è¾“å±‚â†’ç½‘ç»œå±‚â†’é“¾è·¯å±‚

---

## ğŸ“… ç¬¬3å‘¨ï¼šä¼ä¸šçº§ç‰¹æ€§

### ğŸ“– ç¬¬21å¤©ï¼šå¼‚å¸¸å¤„ç†

**ğŸš¨ å¼‚å¸¸å¤„ç†æ€ç»´ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. é¢„æœŸé”™è¯¯ï¼šä¸šåŠ¡å¼‚å¸¸ï¼Œå¯æ¢å¤
2. æ„å¤–é”™è¯¯ï¼šç³»ç»Ÿå¼‚å¸¸ï¼Œéœ€è®°å½•
3. ç»Ÿä¸€æ ¼å¼ï¼šæ‰€æœ‰é”™è¯¯ç»Ÿä¸€å“åº”æ ¼å¼
4. ç”¨æˆ·å‹å¥½ï¼šä¸æš´éœ²ç³»ç»Ÿå†…éƒ¨ä¿¡æ¯
```

**ğŸ“‹ å¼‚å¸¸åˆ†ç±»ï¼ˆå¿…è®°ï¼‰ï¼š**
- **HttpException**ï¼šHTTPç›¸å…³é”™è¯¯
- **BusinessException**ï¼šä¸šåŠ¡é€»è¾‘é”™è¯¯
- **ValidationException**ï¼šæ•°æ®éªŒè¯é”™è¯¯
- **SystemException**ï¼šç³»ç»Ÿçº§é”™è¯¯

**ğŸ”„ å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç­–ç•¥æ¨¡å¼ï¼šä¸åŒç±»å‹å¼‚å¸¸ä¸åŒå¤„ç†
2. è´£ä»»é“¾æ¨¡å¼ï¼šå¼‚å¸¸é€çº§å‘ä¸ŠæŠ›å‡º
3. è®°å½•è¿½è¸ªï¼šè®°å½•é”™è¯¯æ—¥å¿—ä¾¿äºè°ƒè¯•
4. ä¼˜é›…é™çº§ï¼šæœåŠ¡å¼‚å¸¸æ—¶æä¾›å¤‡é€‰æ–¹æ¡ˆ
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **å…¨å±€å¼‚å¸¸è¿‡æ»¤å™¨**ï¼šç»Ÿä¸€æ•è·å’Œå¤„ç†æ‰€æœ‰å¼‚å¸¸
- **é”™è¯¯ç ç³»ç»Ÿ**ï¼šç”¨ç¼–ç æ ‡è¯†ä¸åŒç±»å‹çš„é”™è¯¯

### ğŸ“– ç¬¬22å¤©ï¼šé…ç½®ç®¡ç†

**âš™ï¸ é…ç½®ç®¡ç†åŸåˆ™ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç¯å¢ƒåˆ†ç¦»ï¼šå¼€å‘/æµ‹è¯•/ç”Ÿäº§é…ç½®åˆ†å¼€
2. æ•æ„Ÿä¿¡æ¯ï¼šå¯†ç /å¯†é’¥ä¸èƒ½å†™æ­»åœ¨ä»£ç é‡Œ
3. ç±»å‹å®‰å…¨ï¼šé…ç½®è¦æœ‰ç±»å‹æ£€æŸ¥
4. è¿è¡Œæ—¶éªŒè¯ï¼šå¯åŠ¨æ—¶æ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®
```

**ğŸŒ ç¯å¢ƒå˜é‡ä½¿ç”¨ï¼ˆå¿…è®°ï¼‰ï¼š**
- `NODE_ENV`ï¼šè¿è¡Œç¯å¢ƒï¼ˆdevelopment/productionï¼‰
- `PORT`ï¼šæœåŠ¡ç«¯å£
- `DATABASE_URL`ï¼šæ•°æ®åº“è¿æ¥
- `JWT_SECRET`ï¼šJWTç­¾åå¯†é’¥

**ğŸ”§ é…ç½®æ¨¡å¼ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **å±‚çº§é…ç½®**ï¼šåŸºç¡€é…ç½®+ç¯å¢ƒé…ç½®+æœ¬åœ°é…ç½®
- **é…ç½®éªŒè¯**ï¼šå¯åŠ¨æ—¶æ£€æŸ¥é…ç½®å®Œæ•´æ€§
- **åŠ¨æ€é…ç½®**ï¼šè¿è¡Œæ—¶å¯ä¿®æ”¹çš„é…ç½®
- **é…ç½®ä¸­å¿ƒ**ï¼šç»Ÿä¸€ç®¡ç†å¤šæœåŠ¡é…ç½®

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **12å› å­åº”ç”¨**ï¼šé…ç½®ä¸ä»£ç åˆ†ç¦»çš„æœ€ä½³å®è·µ
- **é…ç½®å³ä»£ç **ï¼šé…ç½®æ–‡ä»¶ç‰ˆæœ¬åŒ–ç®¡ç†

### ğŸ“– ç¬¬23å¤©ï¼šæ—¥å¿—ç³»ç»Ÿ

**ğŸ“ æ—¥å¿—çº§åˆ«ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
ERROR: é”™è¯¯ä¿¡æ¯ï¼Œéœ€è¦ç«‹å³å¤„ç†
WARN:  è­¦å‘Šä¿¡æ¯ï¼Œéœ€è¦å…³æ³¨
INFO:  ä¸€èˆ¬ä¿¡æ¯ï¼Œè®°å½•ä¸šåŠ¡æµç¨‹
DEBUG: è°ƒè¯•ä¿¡æ¯ï¼Œå¼€å‘æ—¶ä½¿ç”¨
```

**ğŸ¯ æ—¥å¿—å†…å®¹ï¼ˆå¿…è®°ï¼‰ï¼š**
- **è¯·æ±‚æ—¥å¿—**ï¼šè®°å½•æ‰€æœ‰APIè°ƒç”¨
- **é”™è¯¯æ—¥å¿—**ï¼šè®°å½•æ‰€æœ‰å¼‚å¸¸ä¿¡æ¯
- **ä¸šåŠ¡æ—¥å¿—**ï¼šè®°å½•é‡è¦ä¸šåŠ¡æ“ä½œ
- **æ€§èƒ½æ—¥å¿—**ï¼šè®°å½•æ¥å£å“åº”æ—¶é—´

**ğŸ” æ—¥å¿—æœ€ä½³å®è·µï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç»“æ„åŒ–æ—¥å¿—ï¼šä½¿ç”¨JSONæ ¼å¼ä¾¿äºè§£æ
2. å…³è”IDï¼šæ¯ä¸ªè¯·æ±‚æœ‰å”¯ä¸€æ ‡è¯†ä¾¿äºè¿½è¸ª
3. æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ï¼šä¸è®°å½•å¯†ç ã€tokenç­‰
4. æ—¥å¿—è½®è½¬ï¼šå®šæœŸæ¸…ç†æ—§æ—¥å¿—èŠ‚çœç©ºé—´
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **é“¾è·¯è¿½è¸ª**ï¼šè·Ÿè¸ªè¯·æ±‚åœ¨ç³»ç»Ÿä¸­çš„å®Œæ•´è·¯å¾„
- **æ—¥å¿—èšåˆ**ï¼šé›†ä¸­æ”¶é›†å’Œåˆ†æå¤šæœåŠ¡æ—¥å¿—

### ğŸ“– ç¬¬24å¤©ï¼šè®¤è¯æˆæƒ

**ğŸ”‘ JWTè®¤è¯æµç¨‹ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç”¨æˆ·ç™»å½• â†’ éªŒè¯è´¦å¯†
2. ç”ŸæˆJWT â†’ åŒ…å«ç”¨æˆ·ä¿¡æ¯
3. è¿”å›Token â†’ å‰ç«¯å­˜å‚¨
4. åç»­è¯·æ±‚ â†’ æºå¸¦Token
5. æœåŠ¡å™¨éªŒè¯ â†’ è§£æç”¨æˆ·ä¿¡æ¯
```

**ğŸ›¡ï¸ å®‰å…¨åŸåˆ™ï¼ˆå¿…è®°ï¼‰ï¼š**
- **å¯†ç åŠ å¯†**ï¼šæ°¸è¿œä¸å­˜å‚¨æ˜æ–‡å¯†ç 
- **Tokenè¿‡æœŸ**ï¼šJWTè¦è®¾ç½®åˆç†è¿‡æœŸæ—¶é—´
- **HTTPSä¼ è¾“**ï¼šæ•æ„Ÿä¿¡æ¯å¿…é¡»åŠ å¯†ä¼ è¾“
- **æœ€å°æƒé™**ï¼šç”¨æˆ·åªèƒ½è®¿é—®å¿…è¦çš„èµ„æº

**ğŸ” è®¤è¯æˆæƒæ¨¡å¼ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **åŸºäºè§’è‰²ï¼ˆRBACï¼‰**ï¼šç”¨æˆ·æœ‰è§’è‰²ï¼Œè§’è‰²æœ‰æƒé™
- **åŸºäºå±æ€§ï¼ˆABACï¼‰**ï¼šæ ¹æ®ç”¨æˆ·ã€èµ„æºã€ç¯å¢ƒå±æ€§å†³å®šæƒé™
- **JWT + Refresh Token**ï¼šçŸ­æœŸè®¿é—®ä»¤ç‰Œ+é•¿æœŸåˆ·æ–°ä»¤ç‰Œ
- **å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰**ï¼šä¸€æ¬¡ç™»å½•å¤šç³»ç»Ÿä½¿ç”¨

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **ä¼šè¯ç®¡ç†**ï¼šæœåŠ¡ç«¯å¦‚ä½•è®°ä½ç”¨æˆ·çŠ¶æ€
- **æƒé™ç²’åº¦**ï¼šä»ç²—ç²’åº¦åˆ°ç»†ç²’åº¦çš„æƒé™æ§åˆ¶

### ğŸ“– ç¬¬25å¤©ï¼šæ•°æ®åº“æ€ç»´ä¸äº‹åŠ¡

**ğŸ’¾ æ•°æ®åº“æ“ä½œï¼ˆå¿…èƒŒï¼‰ï¼š**
```
CREATE: åˆ›å»ºæ•°æ®
READ:   æŸ¥è¯¢æ•°æ®
UPDATE: æ›´æ–°æ•°æ®
DELETE: åˆ é™¤æ•°æ®
```

**ğŸ”— å…³ç³»ç±»å‹ï¼ˆå¿…è®°ï¼‰ï¼š**
- **ä¸€å¯¹ä¸€**ï¼šç”¨æˆ·-ç”¨æˆ·èµ„æ–™
- **ä¸€å¯¹å¤š**ï¼šç”¨æˆ·-æ–‡ç« 
- **å¤šå¯¹å¤š**ï¼šç”¨æˆ·-è§’è‰²

**âš¡ äº‹åŠ¡ACIDç‰¹æ€§ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **åŸå­æ€§ï¼ˆAï¼‰**ï¼šè¦ä¹ˆå…¨åšï¼Œè¦ä¹ˆå…¨ä¸åš
- **ä¸€è‡´æ€§ï¼ˆCï¼‰**ï¼šæ•°æ®å§‹ç»ˆä¿æŒä¸€è‡´çŠ¶æ€
- **éš”ç¦»æ€§ï¼ˆIï¼‰**ï¼šå¹¶å‘äº‹åŠ¡ä¸äº’ç›¸å¹²æ‰°
- **æŒä¹…æ€§ï¼ˆDï¼‰**ï¼šæäº¤çš„æ•°æ®æ°¸ä¹…ä¿å­˜

**ğŸ¯ äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ˆå¿…è®°ï¼‰ï¼š**
- **è¯»æœªæäº¤**ï¼šå¯èƒ½è„è¯»ï¼Œæ€§èƒ½æœ€å¥½
- **è¯»å·²æäº¤**ï¼šé¿å…è„è¯»ï¼Œå¯èƒ½é‡å¤è¯»
- **å¯é‡å¤è¯»**ï¼šé¿å…é‡å¤è¯»ï¼Œå¯èƒ½å¹»è¯»
- **ä¸²è¡ŒåŒ–**ï¼šæœ€é«˜éš”ç¦»çº§åˆ«ï¼Œæ€§èƒ½æœ€å·®

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **ä¹è§‚é”**ï¼šå‡è®¾ä¸ä¼šå†²çªï¼Œå†²çªæ—¶é‡è¯•
- **æ‚²è§‚é”**ï¼šå‡è®¾ä¼šå†²çªï¼Œå…ˆé”å®šå†æ“ä½œ

### ğŸ“– ç¬¬26å¤©ï¼šç¼“å­˜ä¸å­˜å‚¨ç­–ç•¥

**ğŸ’¾ ç¼“å­˜å±‚æ¬¡æ¶æ„ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
L1: åº”ç”¨å†…ç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰
- è¿›ç¨‹å†…å­˜ã€æœ¬åœ°Mapã€LRU Cache
- é€Ÿåº¦æœ€å¿«ï¼Œå®¹é‡æœ‰é™ï¼Œä¸èƒ½è·¨è¿›ç¨‹å…±äº«
- ä¾‹ï¼šNode.js Mapã€Java Caffeine

L2: åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆè¿œç¨‹ç¼“å­˜ï¼‰  
- Redisã€Memcached
- å®¹é‡å¤§ï¼Œæœ‰ç½‘ç»œå»¶è¿Ÿï¼Œæ”¯æŒå¤šå®ä¾‹å…±äº«
- æ”¯æŒé›†ç¾¤ã€æŒä¹…åŒ–ã€æ•°æ®ç»“æ„ä¸°å¯Œ

L3: æ•°æ®åº“ç¼“å­˜
- MySQL Query Cacheã€InnoDB Buffer Pool
- æ•°æ®åº“å±‚é¢è‡ªåŠ¨ä¼˜åŒ–

L4: æ–‡ä»¶ç³»ç»Ÿç¼“å­˜
- æ“ä½œç³»ç»Ÿé¡µç¼“å­˜ï¼ˆPage Cacheï¼‰
- ç£ç›˜I/Oä¼˜åŒ–ï¼Œé€æ˜ç¼“å­˜æœºåˆ¶
```

**ğŸ”¥ ç¼“å­˜é—®é¢˜ä¸è§£å†³ï¼ˆå¿…è®°ï¼‰ï¼š**
```
1. ç¼“å­˜ç©¿é€ï¼š
   - é—®é¢˜ï¼šæŸ¥è¯¢ä¸å­˜åœ¨çš„æ•°æ®ï¼Œç›´å‡»æ•°æ®åº“
   - è§£å†³ï¼šå¸ƒéš†è¿‡æ»¤å™¨ã€ç©ºå€¼ç¼“å­˜

2. ç¼“å­˜å‡»ç©¿ï¼š
   - é—®é¢˜ï¼šçƒ­ç‚¹æ•°æ®è¿‡æœŸï¼Œå¹¶å‘ç›´å‡»æ•°æ®åº“
   - è§£å†³ï¼šäº’æ–¥é”ã€æ°¸ä¸è¿‡æœŸ+å¼‚æ­¥æ›´æ–°

3. ç¼“å­˜é›ªå´©ï¼š
   - é—®é¢˜ï¼šå¤§é‡ç¼“å­˜åŒæ—¶è¿‡æœŸ
   - è§£å†³ï¼šè¿‡æœŸæ—¶é—´éšæœºåŒ–ã€å¤šçº§ç¼“å­˜
```

**âš¡ ç¼“å­˜æ›´æ–°ç­–ç•¥ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **Cache-Asideï¼ˆæ—è·¯ç¼“å­˜ï¼‰**ï¼šåº”ç”¨è´Ÿè´£ç¼“å­˜ç®¡ç†
- **Write-Throughï¼ˆç›´å†™ï¼‰**ï¼šåŒæ—¶å†™ç¼“å­˜å’Œæ•°æ®åº“
- **Write-Backï¼ˆå›å†™ï¼‰**ï¼šå…ˆå†™ç¼“å­˜ï¼Œå»¶è¿Ÿå†™æ•°æ®åº“
- **Refresh-Aheadï¼ˆé¢„åˆ·æ–°ï¼‰**ï¼šä¸»åŠ¨åˆ·æ–°å³å°†è¿‡æœŸçš„æ•°æ®

**ğŸ¯ å­˜å‚¨æŠ€æœ¯é€‰å‹ï¼ˆå¿…è®°ï¼‰ï¼š**
```
å…³ç³»å‹æ•°æ®åº“ï¼ˆRDBMSï¼‰ï¼š
- MySQLã€PostgreSQL
- ACIDç‰¹æ€§ã€å¼ºä¸€è‡´æ€§
- é€‚åˆï¼šäº‹åŠ¡åœºæ™¯ã€å¤æ‚æŸ¥è¯¢

NoSQLæ•°æ®åº“ï¼š
- æ–‡æ¡£å‹ï¼šMongoDBï¼ˆJSONæ–‡æ¡£ï¼‰
- é”®å€¼å‹ï¼šRedisï¼ˆç¼“å­˜ã€ä¼šè¯ï¼‰
- åˆ—æ—å‹ï¼šCassandraï¼ˆæ—¶åºæ•°æ®ï¼‰  
- å›¾æ•°æ®åº“ï¼šNeo4jï¼ˆå…³ç³»å›¾è°±ï¼‰

é€‰å‹åŸåˆ™ï¼š
- æ•°æ®ç»“æ„å¤æ‚åº¦
- ä¸€è‡´æ€§è¦æ±‚
- æ‰©å±•æ€§éœ€æ±‚
- æŸ¥è¯¢æ¨¡å¼
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **ç¼“å­˜ä¸€è‡´æ€§**ï¼šç¼“å­˜ä¸æ•°æ®åº“æ•°æ®ä¿æŒåŒæ­¥
- **æ•°æ®åº“åˆ†ç‰‡**ï¼šæ°´å¹³åˆ†å‰²æ•°æ®åˆ°å¤šä¸ªæ•°æ®åº“
- **è¯»å†™åˆ†ç¦»**ï¼šä¸»åº“å†™å…¥ï¼Œä»åº“æŸ¥è¯¢

### ğŸ“– ç¬¬27å¤©ï¼šæ€§èƒ½ä¼˜åŒ–ä¸ç›‘æ§

**âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. æ•°æ®åº“ä¼˜åŒ–ï¼šç´¢å¼•ã€æŸ¥è¯¢ä¼˜åŒ–
2. ç¼“å­˜ç­–ç•¥ï¼šRedisã€å†…å­˜ç¼“å­˜
3. åˆ†é¡µæŸ¥è¯¢ï¼šé¿å…ä¸€æ¬¡æŸ¥è¯¢å¤ªå¤šæ•°æ®
4. è¿æ¥æ± ï¼šå¤ç”¨æ•°æ®åº“è¿æ¥
```

**ğŸ“Š ç›‘æ§æŒ‡æ ‡ï¼ˆå¿…è®°ï¼‰ï¼š**
- **å“åº”æ—¶é—´**ï¼šæ¥å£å¤„ç†æ—¶é—´
- **ååé‡**ï¼šæ¯ç§’å¤„ç†è¯·æ±‚æ•°
- **é”™è¯¯ç‡**ï¼šå¤±è´¥è¯·æ±‚å æ¯”
- **èµ„æºä½¿ç”¨**ï¼šCPUã€å†…å­˜ä½¿ç”¨æƒ…å†µ

**ğŸ¯ æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **æ•°æ®åº“å±‚é¢**ï¼šç´¢å¼•ä¼˜åŒ–ã€æŸ¥è¯¢ä¼˜åŒ–ã€åˆ†åº“åˆ†è¡¨
- **åº”ç”¨å±‚é¢**ï¼šä»£ç ä¼˜åŒ–ã€ç®—æ³•ä¼˜åŒ–ã€å¼‚æ­¥å¤„ç†
- **æ¶æ„å±‚é¢**ï¼šè´Ÿè½½å‡è¡¡ã€å¾®æœåŠ¡ã€åˆ†å¸ƒå¼ç¼“å­˜
- **ç½‘ç»œå±‚é¢**ï¼šCDNã€HTTP/2ã€å‹ç¼©ä¼ è¾“

**ğŸ“ˆ APMç›‘æ§ï¼ˆå¿…è®°ï¼‰ï¼š**
- **é“¾è·¯è¿½è¸ª**ï¼šè·Ÿè¸ªè¯·æ±‚å®Œæ•´è·¯å¾„
- **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶ç›‘æ§ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡
- **é”™è¯¯ç›‘æ§**ï¼šè‡ªåŠ¨æ•è·å’Œå‘Šè­¦å¼‚å¸¸
- **ä¸šåŠ¡ç›‘æ§**ï¼šç›‘æ§å…³é”®ä¸šåŠ¡æŒ‡æ ‡

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **SLA/SLO/SLI**ï¼šæœåŠ¡ç­‰çº§åè®®ã€ç›®æ ‡ã€æŒ‡æ ‡
- **å®¹é‡è§„åˆ’**ï¼šé¢„ä¼°ç³»ç»Ÿè´Ÿè½½èƒ½åŠ›

### ğŸ“– ç¬¬28å¤©ï¼šAPIè®¾è®¡ä¸ç‰ˆæœ¬æ§åˆ¶

**ğŸŒ RESTful APIè®¾è®¡åŸåˆ™ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. èµ„æºå¯¼å‘ï¼šURLè¡¨ç¤ºèµ„æºï¼ŒHTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œ
2. æ— çŠ¶æ€ï¼šæ¯ä¸ªè¯·æ±‚åŒ…å«æ‰€æœ‰å¿…è¦ä¿¡æ¯
3. ç»Ÿä¸€æ¥å£ï¼šä¸€è‡´çš„è¯·æ±‚å“åº”æ ¼å¼
4. åˆ†å±‚ç³»ç»Ÿï¼šå®¢æˆ·ç«¯æ— éœ€çŸ¥é“æœåŠ¡å™¨å†…éƒ¨ç»“æ„
```

**ğŸ”¢ HTTPæ–¹æ³•è¯­ä¹‰ï¼ˆå¿…è®°ï¼‰ï¼š**
- **GET**ï¼šè·å–èµ„æºï¼Œå¹‚ç­‰ï¼Œå®‰å…¨
- **POST**ï¼šåˆ›å»ºèµ„æºï¼Œéå¹‚ç­‰
- **PUT**ï¼šæ›´æ–°æ•´ä¸ªèµ„æºï¼Œå¹‚ç­‰
- **PATCH**ï¼šéƒ¨åˆ†æ›´æ–°èµ„æºï¼Œå¯èƒ½éå¹‚ç­‰
- **DELETE**ï¼šåˆ é™¤èµ„æºï¼Œå¹‚ç­‰

**ğŸ¯ APIç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **URLç‰ˆæœ¬æ§åˆ¶**ï¼š`/api/v1/users`
- **Headerç‰ˆæœ¬æ§åˆ¶**ï¼š`Accept: application/vnd.api.v1`
- **å‚æ•°ç‰ˆæœ¬æ§åˆ¶**ï¼š`/api/users?version=1`
- **åŸŸåç‰ˆæœ¬æ§åˆ¶**ï¼š`v1.api.example.com`

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **å‘åå…¼å®¹**ï¼šæ–°ç‰ˆæœ¬ä¸ç ´åæ—§å®¢æˆ·ç«¯
- **APIå¥‘çº¦**ï¼šæ˜ç¡®å®šä¹‰è¾“å…¥è¾“å‡ºæ ¼å¼

### ğŸ“– ç¬¬29å¤©ï¼šæ•°æ®åºåˆ—åŒ–ä¸å“åº”æ ¼å¼

**ğŸ“¦ æ•°æ®åºåˆ—åŒ–ä½œç”¨ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. æ•°æ®è½¬æ¢ï¼šå¯¹è±¡è½¬JSONæ ¼å¼
2. å­—æ®µè¿‡æ»¤ï¼šéšè—æ•æ„Ÿä¿¡æ¯
3. æ•°æ®å˜æ¢ï¼šæ ¼å¼åŒ–æ—¥æœŸã€æ•°å­—ç­‰
4. åµŒå¥—å¤„ç†ï¼šå¤„ç†å…³è”å¯¹è±¡
```

**ğŸ¯ å“åº”æ ¼å¼æ ‡å‡†åŒ–ï¼ˆå¿…è®°ï¼‰ï¼š**
```json
{
  "success": true,
  "data": {...},
  "message": "æ“ä½œæˆåŠŸ",
  "timestamp": "2024-01-01T10:00:00Z",
  "code": 200
}
```

**ğŸ”’ æ•æ„Ÿä¿¡æ¯è¿‡æ»¤ï¼ˆå¿…èƒŒï¼‰ï¼š**
- **@Exclude()**ï¼šæ’é™¤æ•æ„Ÿå­—æ®µ
- **@Transform()**ï¼šè½¬æ¢æ•°æ®æ ¼å¼
- **@Expose()**ï¼šåªæš´éœ²æŒ‡å®šå­—æ®µ
- **@SerializeOptions()**ï¼šæŒ‰ç­–ç•¥åºåˆ—åŒ–

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ•°æ®è„±æ•**ï¼šéšè—æ•æ„Ÿä¿¡æ¯çš„éƒ¨åˆ†å†…å®¹
- **å“åº”æ‹¦æˆªå™¨**ï¼šç»Ÿä¸€å¤„ç†æ‰€æœ‰å“åº”æ ¼å¼

### ğŸ“– ç¬¬30å¤©ï¼šå¹¶å‘ç¼–ç¨‹ä¸ç³»ç»Ÿæ¶æ„

**âš¡ å¹¶å‘åŸºç¡€æ¦‚å¿µï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. è¿›ç¨‹ï¼ˆProcessï¼‰ï¼š
   - ç³»ç»Ÿèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½
   - æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´
   - è¿›ç¨‹é—´é€šä¿¡æˆæœ¬é«˜ï¼ˆIPCï¼‰

2. çº¿ç¨‹ï¼ˆThreadï¼‰ï¼š
   - ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬å•ä½
   - å…±äº«è¿›ç¨‹å†…å­˜ç©ºé—´
   - çº¿ç¨‹é—´é€šä¿¡æˆæœ¬ä½

3. åç¨‹ï¼ˆCoroutineï¼‰ï¼š
   - ç”¨æˆ·æ€è½»é‡çº§çº¿ç¨‹
   - åä½œå¼è°ƒåº¦ï¼ŒéæŠ¢å å¼
   - é€‚åˆIOå¯†é›†å‹ä»»åŠ¡
```

**ğŸ”’ é”æœºåˆ¶ä¸å¹¶å‘å®‰å…¨ï¼ˆå¿…è®°ï¼‰ï¼š**
- **äº’æ–¥é”ï¼ˆMutexï¼‰**ï¼šåŒæ—¶åªå…è®¸ä¸€ä¸ªçº¿ç¨‹è®¿é—®
- **è¯»å†™é”ï¼ˆRW Lockï¼‰**ï¼šè¯»å…±äº«ï¼Œå†™æ’ä»–
- **è‡ªæ—‹é”ï¼ˆSpinlockï¼‰**ï¼šå¿™ç­‰å¾…ï¼Œé€‚åˆçŸ­æœŸé”å®š
- **åˆ†å¸ƒå¼é”**ï¼šè·¨è¿›ç¨‹ã€è·¨æœºå™¨çš„é”æœºåˆ¶

**ğŸ—ï¸ æ¶æ„æ¨¡å¼æ¼”è¿›ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
å•ä½“æ¶æ„ = å°é¤é¦†ï¼š
- ä¸€ä¸ªå¨å¸ˆåšæ‰€æœ‰èœï¼ˆæ‰€æœ‰åŠŸèƒ½ä¸€ä¸ªåº”ç”¨ï¼‰
- ç®€å•é«˜æ•ˆï¼ˆå¼€å‘ç®€å•ï¼‰
- è§„æ¨¡æœ‰é™ï¼ˆæ‰©å±•å›°éš¾ï¼‰

å¾®æœåŠ¡æ¶æ„ = è¿é”é¤å…ï¼š
- ä¸“ä¸šåˆ†å·¥ï¼ˆæ¯ä¸ªæœåŠ¡ä¸“æ³¨ä¸€ä¸ªåŠŸèƒ½ï¼‰
- ç‹¬ç«‹è¿è¥ï¼ˆç‹¬ç«‹éƒ¨ç½²æ‰©å±•ï¼‰
- ç®¡ç†å¤æ‚ï¼ˆåˆ†å¸ƒå¼æŒ‘æˆ˜ï¼‰

æ¶æ„æ¼”è¿›è·¯å¾„ï¼š
å•ä½“åº”ç”¨ â†’ åˆ†å±‚å•ä½“ â†’ æœåŠ¡åŒ–å•ä½“ â†’ å¾®æœåŠ¡æ¶æ„
```

**ğŸ¯ å¹¶å‘å®‰å…¨é—®é¢˜ï¼ˆå¿…è®°ï¼‰ï¼š**
- **ç«æ€æ¡ä»¶**ï¼šå¤šçº¿ç¨‹åŒæ—¶è®¿é—®å…±äº«èµ„æº
- **æ­»é”**ï¼šçº¿ç¨‹ç›¸äº’ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æº
- **æ´»é”**ï¼šçº¿ç¨‹ä¸€ç›´åœ¨è¿è¡Œä½†æ— æ³•æ¨è¿›
- **é¥¥é¥¿**ï¼šçº¿ç¨‹é•¿æœŸæ— æ³•è·å¾—æ‰€éœ€èµ„æº

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **åŸå­æ“ä½œ**ï¼šä¸å¯åˆ†å‰²çš„æ“ä½œå•å…ƒ
- **æœåŠ¡è¾¹ç•Œ**ï¼šæŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ’åˆ†æœåŠ¡
- **æ•°æ®éš”ç¦»**ï¼šæ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®

### ğŸ“– ç¬¬31å¤©ï¼šæ¶ˆæ¯é˜Ÿåˆ—ä¸äº‹ä»¶é©±åŠ¨

**ğŸ“¨ æ¶ˆæ¯é˜Ÿåˆ—åŸºç¡€ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç‚¹å¯¹ç‚¹æ¨¡å¼ï¼ˆQueueï¼‰ï¼š
   - ä¸€å¯¹ä¸€æ¶ˆæ¯ä¼ é€’
   - æ¶ˆæ¯åªè¢«ä¸€ä¸ªæ¶ˆè´¹è€…å¤„ç†
   - ä¾‹ï¼šè®¢å•å¤„ç†ã€ä»»åŠ¡åˆ†å‘

2. å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼ˆTopicï¼‰ï¼š
   - ä¸€å¯¹å¤šæ¶ˆæ¯ä¼ é€’  
   - æ¶ˆæ¯è¢«å¤šä¸ªè®¢é˜…è€…å¤„ç†
   - ä¾‹ï¼šäº‹ä»¶é€šçŸ¥ã€æ•°æ®åŒæ­¥

3. æ¶ˆæ¯é˜Ÿåˆ—ä½œç”¨ï¼š
   - å¼‚æ­¥å¤„ç†ï¼šæé«˜å“åº”é€Ÿåº¦
   - å‰Šå³°å¡«è°·ï¼šå¤„ç†æµé‡çªå¢
   - ç³»ç»Ÿè§£è€¦ï¼šæœåŠ¡é—´æ¾è€¦åˆ
```

**âš¡ ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—å¯¹æ¯”ï¼ˆå¿…è®°ï¼‰ï¼š**
- **RabbitMQ**ï¼šåŠŸèƒ½ä¸°å¯Œã€è·¯ç”±çµæ´»ã€æ”¯æŒå¤šç§åè®®ï¼ˆAMQP/MQTTï¼‰
- **Apache Kafka**ï¼šé«˜ååã€åˆ†å¸ƒå¼ã€é€‚åˆæ—¥å¿—æµå¤„ç†
- **Redis Streams**ï¼šè½»é‡çº§ã€é«˜æ€§èƒ½ã€æ”¯æŒæ¶ˆè´¹ç»„ï¼ˆPub/Subè¾ƒç®€å•ï¼‰
- **RocketMQ**ï¼šé˜¿é‡Œå¼€æºã€äº‹åŠ¡æ¶ˆæ¯ã€é¡ºåºæ¶ˆæ¯ã€é‡‘èçº§å¯é æ€§

**ğŸ”„ äº‹ä»¶é©±åŠ¨æ¶æ„ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
äº‹ä»¶ï¼ˆEventï¼‰= ç³»ç»Ÿä¸­å‘ç”Ÿçš„é‡è¦äº‹æƒ…
äº‹ä»¶æºï¼ˆEvent Sourceï¼‰= äº§ç”Ÿäº‹ä»¶çš„ç»„ä»¶
äº‹ä»¶å¤„ç†å™¨ï¼ˆEvent Handlerï¼‰= å¤„ç†äº‹ä»¶çš„ç»„ä»¶

ä¼˜ç‚¹ï¼š
- æ¾è€¦åˆï¼šç»„ä»¶é—´ä¸ç›´æ¥ä¾èµ–
- é«˜æ‰©å±•ï¼šæ–°å¢äº‹ä»¶å¤„ç†å™¨ç®€å•
- å¼‚æ­¥å¤„ç†ï¼šæé«˜ç³»ç»Ÿå“åº”æ€§

ç¼ºç‚¹ï¼š
- è°ƒè¯•å›°éš¾ï¼šäº‹ä»¶é“¾è·¯å¤æ‚
- æ•°æ®ä¸€è‡´æ€§ï¼šäº‹ä»¶å¯èƒ½ä¸¢å¤±æˆ–é‡å¤
- å¤æ‚æ€§ï¼šç³»ç»Ÿæ¶æ„æ›´å¤æ‚
```

**ğŸ¯ æ¶ˆæ¯å¯é æ€§ä¿è¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç”Ÿäº§è€…å¯é æ€§ï¼š
   - ç¡®è®¤æœºåˆ¶ï¼ˆACKï¼‰
   - é‡è¯•æœºåˆ¶
   - æœ¬åœ°äº‹åŠ¡è¡¨

2. æ¶ˆæ¯æŒä¹…åŒ–ï¼š
   - å†…å­˜é˜Ÿåˆ— vs ç£ç›˜é˜Ÿåˆ—
   - æ•°æ®å¤‡ä»½å’Œæ¢å¤

3. æ¶ˆè´¹è€…å¯é æ€§ï¼š
   - æ‰‹åŠ¨ç¡®è®¤æ¶ˆè´¹
   - å¹‚ç­‰æ€§å¤„ç†
   - æ­»ä¿¡é˜Ÿåˆ—å¤„ç†
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ¶ˆæ¯å¹‚ç­‰æ€§**ï¼šé‡å¤æ¶ˆè´¹åŒä¸€æ¶ˆæ¯ç»“æœä¸€è‡´
- **æ¶ˆæ¯é¡ºåºæ€§**ï¼šä¿è¯æ¶ˆæ¯æŒ‰é¡ºåºå¤„ç†
- **èƒŒå‹å¤„ç†**ï¼šæ¶ˆè´¹é€Ÿåº¦è·Ÿä¸ä¸Šç”Ÿäº§é€Ÿåº¦çš„å¤„ç†

### ğŸ“– ç¬¬32å¤©ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¾®æœåŠ¡

**ğŸŒ åˆ†å¸ƒå¼ç³»ç»ŸæŒ‘æˆ˜ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç½‘ç»œåˆ†åŒºï¼ˆNetwork Partitionï¼‰
   - ç½‘ç»œæ•…éšœå¯¼è‡´èŠ‚ç‚¹é—´æ— æ³•é€šä¿¡
   - éœ€è¦åœ¨ä¸€è‡´æ€§å’Œå¯ç”¨æ€§é—´æƒè¡¡

2. èŠ‚ç‚¹æ•…éšœï¼ˆNode Failureï¼‰
   - æœºå™¨å®•æœºã€è¿›ç¨‹å´©æºƒ
   - éœ€è¦æ•…éšœæ£€æµ‹å’Œæ¢å¤æœºåˆ¶

3. æ—¶é’Ÿä¸åŒæ­¥ï¼ˆClock Skewï¼‰
   - ä¸åŒæœºå™¨æ—¶é—´ä¸ä¸€è‡´
   - å½±å“äº‹ä»¶é¡ºåºåˆ¤æ–­
```

**âš–ï¸ CAPå®šç†ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
C (Consistency): ä¸€è‡´æ€§
- æ‰€æœ‰èŠ‚ç‚¹çœ‹åˆ°ç›¸åŒæ•°æ®
- å¼ºä¸€è‡´æ€§ vs æœ€ç»ˆä¸€è‡´æ€§

A (Availability): å¯ç”¨æ€§  
- ç³»ç»ŸæŒç»­æä¾›æœåŠ¡
- æœåŠ¡å¯ç”¨æ—¶é—´ç™¾åˆ†æ¯”

P (Partition Tolerance): åˆ†åŒºå®¹é”™
- ç½‘ç»œåˆ†åŒºæ—¶ä»èƒ½å·¥ä½œ
- åˆ†å¸ƒå¼ç³»ç»Ÿå¿…é¡»å…·å¤‡

å®šç†ï¼šæœ€å¤šåªèƒ½åŒæ—¶ä¿è¯ä¸‰ä¸ªç‰¹æ€§ä¸­çš„ä¸¤ä¸ª
```

**ğŸ—ï¸ å¾®æœåŠ¡æ¶æ„æ¨¡å¼ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
å•ä½“åº”ç”¨ vs å¾®æœåŠ¡å¯¹æ¯”ï¼š

å•ä½“åº”ç”¨ï¼ˆMonolithï¼‰ï¼š
- æ‰€æœ‰åŠŸèƒ½åœ¨ä¸€ä¸ªåº”ç”¨ä¸­
- éƒ¨ç½²ç®€å•ã€å¼€å‘æ•ˆç‡é«˜
- æŠ€æœ¯æ ˆç»Ÿä¸€ã€äº‹åŠ¡ç®€å•
- é€‚åˆï¼šå°å›¢é˜Ÿã€ç®€å•ä¸šåŠ¡ã€MVP

å¾®æœåŠ¡ï¼ˆMicroservicesï¼‰ï¼š
- åŠŸèƒ½æŒ‰ä¸šåŠ¡æ‹†åˆ†æœåŠ¡
- ç‹¬ç«‹éƒ¨ç½²ã€æŠ€æœ¯æ ˆè‡ªç”±
- åˆ†å¸ƒå¼å¤æ‚ã€æ•°æ®ä¸€è‡´æ€§æŒ‘æˆ˜
- é€‚åˆï¼šå¤§å›¢é˜Ÿã€å¤æ‚ä¸šåŠ¡ã€é«˜å¹¶å‘
```

**ğŸ”„ ä¸€è‡´æ€§æ¨¡å‹ï¼ˆå¿…è®°ï¼‰ï¼š**
- **å¼ºä¸€è‡´æ€§**ï¼šæ‰€æœ‰èŠ‚ç‚¹åŒæ—¶çœ‹åˆ°æ›´æ–°
- **å¼±ä¸€è‡´æ€§**ï¼šä¸ä¿è¯ä»€ä¹ˆæ—¶å€™ä¸€è‡´
- **æœ€ç»ˆä¸€è‡´æ€§**ï¼šä¿è¯æœ€ç»ˆä¼šä¸€è‡´
- **å› æœä¸€è‡´æ€§**ï¼šæœ‰å› æœå…³ç³»çš„æ“ä½œä¿æŒé¡ºåº

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æœåŠ¡è¾¹ç•Œ**ï¼šæŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ’åˆ†æœåŠ¡
- **æ•°æ®éš”ç¦»**ï¼šæ¯ä¸ªæœåŠ¡ç®¡ç†è‡ªå·±çš„æ•°æ®
- **å»ä¸­å¿ƒåŒ–**ï¼šé¿å…å•ç‚¹æ•…éšœ

### ğŸ“– ç¬¬33å¤©ï¼šç³»ç»Ÿè®¾è®¡æ¨¡å¼

**ğŸ›¡ï¸ ç³»ç»Ÿå¯é æ€§æ¨¡å¼ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ç†”æ–­å™¨æ¨¡å¼ï¼ˆCircuit Breakerï¼‰ï¼š
   - ç›‘æ§æœåŠ¡è°ƒç”¨å¤±è´¥ç‡
   - å¤±è´¥ç‡è¶…é˜ˆå€¼æ—¶"ç†”æ–­"
   - çŠ¶æ€ï¼šå…³é—­â†’æ‰“å¼€â†’åŠå¼€
   - é˜²æ­¢æ•…éšœä¼ æ’­

2. é™æµæ¨¡å¼ï¼ˆRate Limitingï¼‰ï¼š
   - æ§åˆ¶è¯·æ±‚é¢‘ç‡
   - ç®—æ³•ï¼šä»¤ç‰Œæ¡¶ã€æ¼æ¡¶ã€å›ºå®šçª—å£ã€æ»‘åŠ¨çª—å£
   - ä¿æŠ¤ç³»ç»Ÿä¸è¢«å‹å®

3. é‡è¯•æ¨¡å¼ï¼ˆRetry Patternï¼‰ï¼š
   - æš‚æ—¶æ€§æ•…éšœè‡ªåŠ¨é‡è¯•
   - æŒ‡æ•°é€€é¿ç®—æ³•
   - æœ€å¤§é‡è¯•æ¬¡æ•°é™åˆ¶
```

**âš–ï¸ è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆå¿…è®°ï¼‰ï¼š**
- **è½®è¯¢ï¼ˆRound Robinï¼‰**ï¼šä¾æ¬¡åˆ†é…è¯·æ±‚
- **éšæœºï¼ˆRandomï¼‰**ï¼šéšæœºé€‰æ‹©æœåŠ¡å™¨
- **æœ€å°‘è¿æ¥ï¼ˆLeast Connectionsï¼‰**ï¼šé€‰æ‹©è¿æ¥æ•°æœ€å°‘çš„
- **åŠ æƒè½®è¯¢**ï¼šæ ¹æ®æœåŠ¡å™¨æ€§èƒ½åˆ†é…æƒé‡
- **IPå“ˆå¸Œ**ï¼šæ ¹æ®å®¢æˆ·ç«¯IPå“ˆå¸Œé€‰æ‹©

**ğŸ¯ ç›‘æ§ä¸å¯è§‚æµ‹æ€§ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
ç›‘æ§ä¸‰å¤§æ”¯æŸ±ï¼š
1. Metricsï¼ˆæŒ‡æ ‡ï¼‰ï¼š
   - æ•°å€¼å‹æ•°æ®ï¼šQPSã€å»¶è¿Ÿã€é”™è¯¯ç‡
   - æ—¶é—´åºåˆ—æ•°æ®åº“ï¼šPrometheus

2. Loggingï¼ˆæ—¥å¿—ï¼‰ï¼š
   - äº‹ä»¶è®°å½•ï¼šè¯·æ±‚æ—¥å¿—ã€é”™è¯¯æ—¥å¿—
   - é›†ä¸­åŒ–ç®¡ç†ï¼šELK Stack

3. Tracingï¼ˆé“¾è·¯è¿½è¸ªï¼‰ï¼š
   - è¯·æ±‚åœ¨ç³»ç»Ÿä¸­çš„å®Œæ•´è·¯å¾„
   - åˆ†å¸ƒå¼è¿½è¸ªï¼šJaegerã€Zipkin

é»„é‡‘æŒ‡æ ‡ï¼š
- å»¶è¿Ÿï¼ˆLatencyï¼‰
- æµé‡ï¼ˆTrafficï¼‰  
- é”™è¯¯ï¼ˆErrorsï¼‰
- é¥±å’Œåº¦ï¼ˆSaturationï¼‰
```

**ğŸ—ï¸ æ‰©å±•æ€§è®¾è®¡æ¨¡å¼ï¼ˆå¿…è®°ï¼‰ï¼š**
```
æ°´å¹³æ‰©å±•ï¼ˆScale Outï¼‰ï¼š
- å¢åŠ æœåŠ¡å™¨æ•°é‡
- è´Ÿè½½å‡è¡¡åˆ†å‘è¯·æ±‚
- æ— çŠ¶æ€æœåŠ¡è®¾è®¡

å‚ç›´æ‰©å±•ï¼ˆScale Upï¼‰ï¼š
- å¢åŠ æœåŠ¡å™¨é…ç½®
- CPUã€å†…å­˜ã€ç£ç›˜å‡çº§
- æœ‰å¤©èŠ±æ¿é™åˆ¶

æ•°æ®åº“æ‰©å±•ï¼š
- ä¸»ä»å¤åˆ¶ï¼šè¯»å†™åˆ†ç¦»
- åˆ†åº“åˆ†è¡¨ï¼šæ•°æ®æ°´å¹³åˆ‡åˆ†
- åˆ†å¸ƒå¼æ•°æ®åº“ï¼šè‡ªåŠ¨åˆ†ç‰‡
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **ä¼˜é›…é™çº§**ï¼šéƒ¨åˆ†åŠŸèƒ½ä¸å¯ç”¨æ—¶ä¿è¯æ ¸å¿ƒåŠŸèƒ½
- **æ•…éšœéš”ç¦»**ï¼šæ•…éšœä¸å½±å“å…¶ä»–æ¨¡å—
- **å®¹é‡è§„åˆ’**ï¼šæ ¹æ®ä¸šåŠ¡å¢é•¿é¢„ä¼°èµ„æºéœ€æ±‚

### ğŸ“– ç¬¬34å¤©ï¼šé€šç”¨åç«¯æ€»ç»“ä¸è¿›é˜¶

**ğŸ§  åç«¯æ€ç»´ä½“ç³»æ€»ç»“ï¼ˆå¿…èƒŒ5éï¼‰ï¼š**

**1. æ¶æ„æ€ç»´ï¼š**
- åˆ†å±‚æ¶æ„ï¼šController â†’ Service â†’ Repository â†’ Database
- æ¨¡å—åŒ–ï¼šæŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†æ¨¡å—ï¼Œå•ä½“â†’å¾®æœåŠ¡æ¼”è¿›
- ä¾èµ–æ³¨å…¥ï¼šè®©æ¡†æ¶ç®¡ç†å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ
- æœåŠ¡è¾¹ç•Œï¼šä¸šåŠ¡é©±åŠ¨çš„æœåŠ¡æ‹†åˆ†ç­–ç•¥

**2. æ•°æ®æ€ç»´ï¼š**
- æ•°æ®ä¸­å¿ƒï¼šä¸€åˆ‡å›´ç»•æ•°æ®çš„CRUDæ“ä½œ
- æ•°æ®å®‰å…¨ï¼šéªŒè¯ã€åŠ å¯†ã€æƒé™æ§åˆ¶
- æ•°æ®ä¸€è‡´æ€§ï¼šäº‹åŠ¡ã€çº¦æŸã€å…³ç³»å®Œæ•´æ€§
- å­˜å‚¨é€‰å‹ï¼šå…³ç³»å‹DB vs NoSQLï¼Œç¼“å­˜ç­–ç•¥

**3. æœåŠ¡æ€ç»´ï¼š**
- æ— çŠ¶æ€ï¼šæ¯ä¸ªè¯·æ±‚éƒ½æ˜¯ç‹¬ç«‹çš„
- å¹‚ç­‰æ€§ï¼šç›¸åŒæ“ä½œå¤šæ¬¡æ‰§è¡Œç»“æœä¸€è‡´
- å®¹é”™æ€§ï¼šç†”æ–­ã€é‡è¯•ã€é™æµæœºåˆ¶
- åˆ†å¸ƒå¼ï¼šCAPå®šç†ï¼Œä¸€è‡´æ€§æ¨¡å‹

**4. å¹¶å‘æ€ç»´ï¼š**
- è¿›ç¨‹çº¿ç¨‹åç¨‹ï¼šä¸åŒå¹¶å‘æ¨¡å‹çš„é€‰æ‹©
- é”ä¸åŒæ­¥ï¼šäº’æ–¥é”ã€è¯»å†™é”ã€åˆ†å¸ƒå¼é”
- å¹¶å‘å®‰å…¨ï¼šç«æ€æ¡ä»¶ã€æ­»é”é¿å…
- å¼‚æ­¥å¤„ç†ï¼šæ¶ˆæ¯é˜Ÿåˆ—ã€äº‹ä»¶é©±åŠ¨

**5. å®‰å…¨æ€ç»´ï¼š**
- ä¸ä¿¡ä»»å®¢æˆ·ç«¯ï¼šæ‰€æœ‰æ•°æ®éƒ½è¦éªŒè¯
- æœ€å°æƒé™ï¼šç”¨æˆ·åªèƒ½è®¿é—®å¿…è¦èµ„æº
- é˜²å¾¡ç¼–ç¨‹ï¼šé¢„æœŸå„ç§æ”»å‡»å’Œå¼‚å¸¸
- è®¤è¯æˆæƒï¼šJWTã€OAuthã€RBACæƒé™æ¨¡å‹

**6. è¿ç»´æ€ç»´ï¼š**
- å¯è§‚æµ‹æ€§ï¼šæ—¥å¿—ã€ç›‘æ§ã€é“¾è·¯è¿½è¸ª
- å¯æ‰©å±•æ€§ï¼šæ°´å¹³æ‰©å±•ã€è´Ÿè½½å‡è¡¡ç­–ç•¥
- å¯ç»´æŠ¤æ€§ï¼šä»£ç è§„èŒƒã€æ–‡æ¡£å®Œå–„
- ç³»ç»Ÿè®¾è®¡ï¼šé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å¹¶å‘

**ğŸ¯ é«˜çº§æ¦‚å¿µæ€»ç»“ï¼ˆå¿…èƒŒ3éï¼‰ï¼š**
1. **è¯·æ±‚ç”Ÿå‘½å‘¨æœŸ**ï¼šMiddleware â†’ Guard â†’ Interceptor â†’ Pipe â†’ Controller â†’ Service â†’ Repository
2. **å¼‚å¸¸å¤„ç†é“¾**ï¼šå…¨å±€è¿‡æ»¤å™¨ â†’ ç­–ç•¥æ¨¡å¼ â†’ ç»Ÿä¸€å“åº”æ ¼å¼
3. **å®‰å…¨é˜²æŠ¤ä½“ç³»**ï¼šè®¤è¯ â†’ æˆæƒ â†’ æ•°æ®éªŒè¯ â†’ é”™è¯¯å¤„ç†
4. **æ€§èƒ½ä¼˜åŒ–ä½“ç³»**ï¼šç¼“å­˜ â†’ æ•°æ®åº“ä¼˜åŒ– â†’ è¿æ¥æ±  â†’ ç›‘æ§å‘Šè­¦
5. **æ•°æ®æµè½¬é“¾è·¯**ï¼šDTOéªŒè¯ â†’ Serviceå¤„ç† â†’ RepositoryæŸ¥è¯¢ â†’ åºåˆ—åŒ–å“åº”
6. **åˆ†å¸ƒå¼ç³»ç»Ÿæ ¸å¿ƒ**ï¼šCAPå®šç† â†’ ä¸€è‡´æ€§æ¨¡å‹ â†’ æœåŠ¡å‘ç° â†’ è´Ÿè½½å‡è¡¡
7. **æ¶æ„æ¼”è¿›è·¯å¾„**ï¼šå•ä½“ â†’ åˆ†å±‚ â†’ SOA â†’ å¾®æœåŠ¡ â†’ äº‘åŸç”Ÿ
8. **å¹¶å‘å¤„ç†æ¨¡å¼**ï¼šå¤šçº¿ç¨‹ â†’ åç¨‹ â†’ äº‹ä»¶é©±åŠ¨ â†’ å“åº”å¼ç¼–ç¨‹
9. **ç¼“å­˜ä½“ç³»æ¶æ„**ï¼šL1æœ¬åœ° â†’ L2åˆ†å¸ƒå¼ â†’ L3æ•°æ®åº“ â†’ L4ç³»ç»Ÿçº§
10. **å¯è§‚æµ‹æ€§ä½“ç³»**ï¼šMetricsæŒ‡æ ‡ â†’ Loggingæ—¥å¿— â†’ Tracingé“¾è·¯



## ğŸ“… ç¬¬4å‘¨ï¼šå¼€å‘å¥—è·¯å®æˆ˜ï¼ˆç®€åŒ–ç‰ˆï¼‰

### ğŸ“– ç¬¬35å¤©ï¼šNestJSå¼€å‘å¥—è·¯

**ğŸ¯ æ¨¡å—åˆ›å»ºå¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// 1. åˆ›å»ºæ¨¡å—æ–‡ä»¶ç»“æ„
users/
â”œâ”€â”€ controllers/     // HTTPæ¥å£å±‚
â”œâ”€â”€ services/       // ä¸šåŠ¡é€»è¾‘å±‚
â”œâ”€â”€ dtos/          // æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ entities/      // æ•°æ®å®ä½“
â”œâ”€â”€ interfaces/    // æ¥å£å®šä¹‰
â”œâ”€â”€ users.module.ts
â””â”€â”€ index.ts       // ç»Ÿä¸€å¯¼å‡º

// 2. æ ‡å‡†æ¨¡å—å®šä¹‰
@Module({
  imports: [MikroOrmModule.forFeature([User])],
  controllers: [UsersController],
  providers: [UsersService, UsersRepository],
  exports: [UsersService]
})
```

**ğŸ”§ ä¾èµ–æ³¨å…¥å¥—è·¯ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
// æœåŠ¡æ³¨å…¥å¥—è·¯
@Injectable()
export class UsersService {
  constructor(
    private readonly usersRepo: UsersRepository,
    private readonly configService: ConfigService,
    private readonly logger: LoggerService
  ) {}
}

// æ¡ä»¶æ³¨å…¥å¥—è·¯
@Injectable()
export class NotificationService {
  constructor(
    @Inject('EMAIL_SERVICE') private emailService: EmailService,
    @Optional() @Inject('SMS_SERVICE') private smsService?: SmsService
  ) {}
}
```

**ğŸ¯ é”™è¯¯å¤„ç†å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// ä¸šåŠ¡å¼‚å¸¸æŠ›å‡ºå¥—è·¯
if (!user) {
  throw new NotFoundException('ç”¨æˆ·ä¸å­˜åœ¨')
}

if (user.isBlocked) {
  throw new ForbiddenException('ç”¨æˆ·å·²è¢«å°ç¦')
}

// å‚æ•°éªŒè¯å¥—è·¯
if (!createUserDto.email) {
  throw new BadRequestException('é‚®ç®±ä¸èƒ½ä¸ºç©º')
}
```

**ğŸ“ å…³é”®å¥—è·¯ï¼š**
- **æ¨¡å—å…ˆè¡Œ**ï¼šå…ˆè®¾è®¡æ¨¡å—ç»“æ„ï¼Œå†å†™å…·ä½“å®ç°
- **æ¥å£å®šä¹‰**ï¼šç”¨TypeScriptæ¥å£çº¦æŸæ•°æ®ç»“æ„
- **å¼‚å¸¸åˆ†ç±»**ï¼šä¸šåŠ¡å¼‚å¸¸ã€éªŒè¯å¼‚å¸¸ã€ç³»ç»Ÿå¼‚å¸¸åˆ†å¼€å¤„ç†

### ğŸ“– ç¬¬36å¤©ï¼šMikroORMä¸æ•°æ®åº“æ“ä½œ

**ğŸ›ï¸ Entityå®šä¹‰å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// åŸºç¡€å®ä½“ç»§æ‰¿å¥—è·¯
@Entity({ abstract: true })
export abstract class BaseEntity {
  @PrimaryKey()
  id!: number

  @Property()
  createdAt: Date = new Date()

  @Property({ onUpdate: () => new Date() })
  updatedAt: Date = new Date()
}

// ä¸šåŠ¡å®ä½“å®šä¹‰å¥—è·¯
@Entity({ tableName: 'users' })
export class User extends BaseEntity {
  @Property({ length: 50 })
  @Unique()
  username!: string

  @Property({ length: 100 })
  @Unique()
  email!: string

  @Property({ nullable: true })
  nickname?: string
}
```

**ğŸ” æŸ¥è¯¢æ“ä½œå¥—è·¯ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
// RepositoryåŸºç¡€æŸ¥è¯¢å¥—è·¯
export class UsersRepository {
  constructor(private readonly em: EntityManager) {}

  // åŸºç¡€CRUDå¥—è·¯
  async findAll(): Promise<User[]> {
    return this.em.find(User, {})
  }

  async findById(id: number): Promise<User> {
    const user = await this.em.findOne(User, { id })
    if (!user) {
      throw new NotFoundException('ç”¨æˆ·ä¸å­˜åœ¨')
    }
    return user
  }

  async create(userData: CreateUserDto): Promise<User> {
    const user = new User()
    user.username = userData.username
    user.email = userData.email
    
    await this.em.persistAndFlush(user)
    return user
  }
}
```

**âš¡ é«˜çº§æŸ¥è¯¢å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// åˆ†é¡µæŸ¥è¯¢å¥—è·¯
async findWithPagination(page: number, limit: number) {
  const offset = (page - 1) * limit
  
  const [items, total] = await Promise.all([
    this.em.find(User, {}, { 
      orderBy: { createdAt: 'DESC' }, 
      limit, 
      offset 
    }),
    this.em.count(User)
  ])
  
  return {
    data: items,
    meta: { page, limit, total, totalPages: Math.ceil(total / limit) }
  }
}

// æ¡ä»¶æŸ¥è¯¢å¥—è·¯
async searchUsers(keyword: string) {
  return this.em.find(User, {
    $or: [
      { username: { $like: `%${keyword}%` } },
      { email: { $like: `%${keyword}%` } }
    ]
  })
}
```

**ğŸ”„ äº‹åŠ¡å¤„ç†å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// äº‹åŠ¡æ“ä½œå¥—è·¯
async transferPoints(fromId: number, toId: number, points: number) {
  await this.em.transactional(async (em) => {
    const fromUser = await em.findOne(User, { id: fromId })
    const toUser = await em.findOne(User, { id: toId })
    
    fromUser.points -= points
    toUser.points += points
    
    // è‡ªåŠ¨æäº¤ï¼Œå‡ºé”™è‡ªåŠ¨å›æ»š
  })
}
```

**ğŸ“ å…³é”®å¥—è·¯ï¼š**
- **å®ä½“å…ˆè¡Œ**ï¼šå…ˆå®šä¹‰å®ä½“ï¼Œå†å†™æŸ¥è¯¢é€»è¾‘
- **ç±»å‹å®‰å…¨**ï¼šå……åˆ†åˆ©ç”¨TypeScriptç±»å‹æ£€æŸ¥
- **äº‹åŠ¡åŒ…è£…**ï¼šæ¶‰åŠå¤šè¡¨æ“ä½œå¿…é¡»ç”¨äº‹åŠ¡

### ğŸ“– ç¬¬37å¤©ï¼šä¼ä¸šçº§å¼€å‘æ€»ç»“

**ğŸ­ å·¥å‚æ¨¡å¼å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// ç­–ç•¥å·¥å‚æ¨¡å¼
@Injectable()
export class NotificationFactory {
  create(type: 'email' | 'sms' | 'push'): NotificationService {
    switch (type) {
      case 'email':
        return new EmailNotificationService()
      case 'sms':
        return new SmsNotificationService()
      case 'push':
        return new PushNotificationService()
      default:
        throw new Error('ä¸æ”¯æŒçš„é€šçŸ¥ç±»å‹')
    }
  }
}
```

**ğŸ¯ ç­–ç•¥æ¨¡å¼å¥—è·¯ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
// æ”¯ä»˜ç­–ç•¥æ¨¡å¼
interface PaymentStrategy {
  pay(amount: number): Promise<PaymentResult>
}

@Injectable()
export class AlipayStrategy implements PaymentStrategy {
  async pay(amount: number): Promise<PaymentResult> {
    // æ”¯ä»˜å®æ”¯ä»˜é€»è¾‘
  }
}

@Injectable()
export class WechatStrategy implements PaymentStrategy {
  async pay(amount: number): Promise<PaymentResult> {
    // å¾®ä¿¡æ”¯ä»˜é€»è¾‘
  }
}
```

**ğŸ”— è£…é¥°å™¨æ¨¡å¼å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// ç¼“å­˜è£…é¥°å™¨å¥—è·¯
export function Cacheable(ttl: number = 300) {
  return function (target: any, propertyKey: string, descriptor: PropertyDescriptor) {
    const originalMethod = descriptor.value
    
    descriptor.value = async function (...args: any[]) {
      const cacheKey = `${propertyKey}:${JSON.stringify(args)}`
      
      // å…ˆæŸ¥ç¼“å­˜
      let result = await this.cacheService.get(cacheKey)
      if (!result) {
        // ç¼“å­˜ä¸å­˜åœ¨ï¼Œæ‰§è¡ŒåŸæ–¹æ³•
        result = await originalMethod.apply(this, args)
        await this.cacheService.set(cacheKey, result, ttl)
      }
      
      return result
    }
  }
}

// ä½¿ç”¨è£…é¥°å™¨
@Cacheable(600)
async getUserById(id: number) {
  return this.usersRepository.findById(id)
}
```

**ğŸ“ å…³é”®å¥—è·¯ï¼š**
- **æ¥å£æŠ½è±¡**ï¼šç”¨æ¥å£å®šä¹‰è¡Œä¸ºå¥‘çº¦
- **ä¾èµ–æ³¨å…¥**ï¼šé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–
- **è£…é¥°å¢å¼º**ï¼šç”¨è£…é¥°å™¨å¢å¼ºæ–¹æ³•åŠŸèƒ½

### ğŸ“– ç¬¬38å¤©ï¼šAPIå¼€å‘æœ€ä½³å®è·µ

**ğŸŒ Controlleræ ‡å‡†å†™æ³•ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
@Controller('api/users')
@ApiTags('ç”¨æˆ·ç®¡ç†')
export class UsersController {
  constructor(private readonly usersService: UsersService) {}

  @Get()
  @ApiOperation({ summary: 'è·å–ç”¨æˆ·åˆ—è¡¨' })
  @ApiQuery({ name: 'page', required: false, description: 'é¡µç ' })
  async findAll(
    @Query('page', new DefaultValuePipe(1), ParseIntPipe) page: number,
    @Query('limit', new DefaultValuePipe(10), ParseIntPipe) limit: number
  ) {
    return this.usersService.findWithPagination(page, limit)
  }

  @Post()
  @ApiOperation({ summary: 'åˆ›å»ºç”¨æˆ·' })
  @ApiBody({ type: CreateUserDto })
  async create(@Body() createUserDto: CreateUserDto) {
    return this.usersService.create(createUserDto)
  }

  @Get(':id')
  @ApiOperation({ summary: 'è·å–ç”¨æˆ·è¯¦æƒ…' })
  @ApiParam({ name: 'id', description: 'ç”¨æˆ·ID' })
  async findOne(@Param('id', ParseIntPipe) id: number) {
    return this.usersService.findById(id)
  }
}
```

**ğŸ“ DTOéªŒè¯å¥—è·¯ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
// åˆ›å»ºDTO
export class CreateUserDto {
  @ApiProperty({ description: 'ç”¨æˆ·å', minLength: 2, maxLength: 50 })
  @IsString()
  @MinLength(2, { message: 'ç”¨æˆ·åé•¿åº¦è‡³å°‘2ä½' })
  @MaxLength(50, { message: 'ç”¨æˆ·åé•¿åº¦ä¸è¶…è¿‡50ä½' })
  username!: string

  @ApiProperty({ description: 'é‚®ç®±åœ°å€' })
  @IsEmail({}, { message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€' })
  email!: string

  @ApiProperty({ description: 'æ˜µç§°', required: false })
  @IsOptional()
  @IsString()
  nickname?: string
}

// æ›´æ–°DTO
export class UpdateUserDto extends PartialType(CreateUserDto) {}
```

**ğŸ”’ æƒé™æ§åˆ¶å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// è®¤è¯å®ˆå«å¥—è·¯
@Controller('api/users')
@UseGuards(JwtAuthGuard)  // éœ€è¦ç™»å½•
export class UsersController {
  
  @Get('profile')
  @UseGuards(RolesGuard)  // éœ€è¦ç‰¹å®šè§’è‰²
  @Roles('user', 'admin')
  async getProfile(@Request() req) {
    return req.user
  }

  @Delete(':id')
  @UseGuards(RolesGuard)
  @Roles('admin')  // åªæœ‰ç®¡ç†å‘˜å¯ä»¥åˆ é™¤
  async remove(@Param('id') id: number) {
    return this.usersService.remove(id)
  }
}
```

**ğŸ“ å…³é”®å¥—è·¯ï¼š**
- **Swaggeræ–‡æ¡£**ï¼šæ¯ä¸ªæ¥å£éƒ½è¦åŠ APIæ–‡æ¡£æ³¨è§£
- **å‚æ•°éªŒè¯**ï¼šä½¿ç”¨Pipeè¿›è¡Œå‚æ•°ç±»å‹è½¬æ¢å’ŒéªŒè¯
- **æƒé™åˆ†å±‚**ï¼šè®¤è¯â†’è§’è‰²â†’å…·ä½“æƒé™çš„åˆ†å±‚æ§åˆ¶

### ğŸ“– ç¬¬39å¤©ï¼šè°ƒè¯•ä¸æµ‹è¯•å¥—è·¯

**ğŸ› è°ƒè¯•æŠ€å·§å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// æ—¥å¿—è°ƒè¯•å¥—è·¯
@Injectable()
export class UsersService {
  private readonly logger = new Logger(UsersService.name)

  async create(createUserDto: CreateUserDto) {
    this.logger.log(`åˆ›å»ºç”¨æˆ·: ${JSON.stringify(createUserDto)}`)
    
    try {
      const user = await this.usersRepository.create(createUserDto)
      this.logger.log(`ç”¨æˆ·åˆ›å»ºæˆåŠŸ: ${user.id}`)
      return user
    } catch (error) {
      this.logger.error(`ç”¨æˆ·åˆ›å»ºå¤±è´¥: ${error.message}`, error.stack)
      throw error
    }
  }
}

// æ€§èƒ½è°ƒè¯•å¥—è·¯
@Injectable()
export class PerformanceInterceptor implements NestInterceptor {
  intercept(context: ExecutionContext, next: CallHandler) {
    const start = Date.now()
    const request = context.switchToHttp().getRequest()
    
    return next.handle().pipe(
      tap(() => {
        const duration = Date.now() - start
        if (duration > 1000) {  // è¶…è¿‡1ç§’çš„æ…¢æŸ¥è¯¢
          console.warn(`æ…¢æŸ¥è¯¢è­¦å‘Š: ${request.url} è€—æ—¶ ${duration}ms`)
        }
      })
    )
  }
}
```

**ğŸ§ª å•å…ƒæµ‹è¯•å¥—è·¯ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
// Serviceæµ‹è¯•å¥—è·¯
describe('UsersService', () => {
  let service: UsersService
  let repository: UsersRepository

  beforeEach(async () => {
    const module = await Test.createTestingModule({
      providers: [
        UsersService,
        {
          provide: UsersRepository,
          useValue: {
            findById: jest.fn(),
            create: jest.fn(),
            update: jest.fn(),
          }
        }
      ]
    }).compile()

    service = module.get<UsersService>(UsersService)
    repository = module.get<UsersRepository>(UsersRepository)
  })

  it('åº”è¯¥èƒ½åˆ›å»ºç”¨æˆ·', async () => {
    const createDto = { username: 'test', email: 'test@example.com' }
    const expectedUser = { id: 1, ...createDto }
    
    jest.spyOn(repository, 'create').mockResolvedValue(expectedUser)
    
    const result = await service.create(createDto)
    
    expect(result).toEqual(expectedUser)
    expect(repository.create).toHaveBeenCalledWith(createDto)
  })
})
```

**ğŸ¯ E2Eæµ‹è¯•å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// E2Eæµ‹è¯•å¥—è·¯
describe('UsersController (e2e)', () => {
  let app: INestApplication

  beforeEach(async () => {
    const moduleFixture = await Test.createTestingModule({
      imports: [AppModule]
    }).compile()

    app = moduleFixture.createNestApplication()
    await app.init()
  })

  it('/api/users (GET)', () => {
    return request(app.getHttpServer())
      .get('/api/users')
      .expect(200)
      .expect((res) => {
        expect(res.body.data).toBeDefined()
        expect(Array.isArray(res.body.data)).toBe(true)
      })
  })

  it('/api/users (POST)', () => {
    return request(app.getHttpServer())
      .post('/api/users')
      .send({ username: 'test', email: 'test@example.com' })
      .expect(201)
      .expect((res) => {
        expect(res.body.data.id).toBeDefined()
        expect(res.body.data.username).toBe('test')
      })
  })
})
```

**ğŸ“ å…³é”®å¥—è·¯ï¼š**
- **æ—¥å¿—å…ˆè¡Œ**ï¼šå…³é”®æ“ä½œéƒ½è¦è®°å½•æ—¥å¿—
- **æ¨¡æ‹Ÿä¾èµ–**ï¼šå•å…ƒæµ‹è¯•è¦æ¨¡æ‹Ÿæ‰€æœ‰å¤–éƒ¨ä¾èµ–
- **çœŸå®åœºæ™¯**ï¼šE2Eæµ‹è¯•è¦æ¨¡æ‹ŸçœŸå®çš„ç”¨æˆ·æ“ä½œ

### ğŸ“– ç¬¬40å¤©ï¼šé¡¹ç›®ç»“æ„ä¸è§„èŒƒå¥—è·¯

**ğŸ“ é¡¹ç›®ç»“æ„å¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
src/
â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ app.config.ts    # åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ database.config.ts # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ index.ts         # é…ç½®ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ shared/              # å…±äº«æ¨¡å—
â”‚   â”œâ”€â”€ decorators/      # è‡ªå®šä¹‰è£…é¥°å™¨
â”‚   â”œâ”€â”€ filters/         # å…¨å±€è¿‡æ»¤å™¨
â”‚   â”œâ”€â”€ guards/          # å…¨å±€å®ˆå«
â”‚   â”œâ”€â”€ interceptors/    # å…¨å±€æ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ pipes/           # å…¨å±€ç®¡é“
â”‚   â””â”€â”€ utils/           # å·¥å…·å‡½æ•°
â”œâ”€â”€ modules/             # ä¸šåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ auth/            # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ users/           # ç”¨æˆ·æ¨¡å—
â”‚   â””â”€â”€ common/          # é€šç”¨æ¨¡å—
â”œâ”€â”€ migrations/          # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ app.module.ts        # æ ¹æ¨¡å—
â””â”€â”€ main.ts             # åº”ç”¨å…¥å£
```

**ğŸ”§ ä»£ç ç»„ç»‡å¥—è·¯ï¼ˆå¿…è®°ï¼‰ï¼š**
```typescript
// æ¯ä¸ªæ¨¡å—çš„index.tsç»Ÿä¸€å¯¼å‡º
export * from './users.service'
export * from './users.controller'
export * from './users.module'
export * from './dtos'
export * from './entities'

// ä½¿ç”¨barrelå¯¼å‡ºç®€åŒ–å¯¼å…¥
// å¥½çš„æ–¹å¼
import { UsersService, CreateUserDto } from '@/modules/users'

// ä¸å¥½çš„æ–¹å¼
import { UsersService } from '@/modules/users/users.service'
import { CreateUserDto } from '@/modules/users/dtos/create-user.dto'
```

**ğŸ“ å‘½åè§„èŒƒå¥—è·¯ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
# æ–‡ä»¶å‘½åè§„èŒƒ
users.controller.ts      # æ§åˆ¶å™¨
users.service.ts         # æœåŠ¡
users.module.ts          # æ¨¡å—
user.entity.ts           # å®ä½“ï¼ˆå•æ•°ï¼‰
create-user.dto.ts       # DTO
users.repository.ts      # ä»“å‚¨

# ç±»å‘½åè§„èŒƒ
UsersController          # æ§åˆ¶å™¨ç±»
UsersService            # æœåŠ¡ç±»
User                    # å®ä½“ç±»
CreateUserDto           # DTOç±»
UsersRepository         # ä»“å‚¨ç±»

# æ–¹æ³•å‘½åè§„èŒƒ
findAll()               # æŸ¥è¯¢æ‰€æœ‰
findById()              # æ ¹æ®IDæŸ¥è¯¢
create()                # åˆ›å»º
update()                # æ›´æ–°
remove()                # åˆ é™¤ï¼ˆæ¨èç”¨removeè€Œä¸æ˜¯deleteï¼‰
```

**ğŸ¯ å¼‚å¸¸å¤„ç†è§„èŒƒï¼ˆå¿…èƒŒï¼‰ï¼š**
```typescript
// å¼‚å¸¸åˆ†ç±»è§„èŒƒ
export enum ErrorCode {
  // ç”¨æˆ·ç›¸å…³ 1000-1999
  USER_NOT_FOUND = 1001,
  USER_ALREADY_EXISTS = 1002,
  USER_BLOCKED = 1003,
  
  // è®¤è¯ç›¸å…³ 2000-2999
  INVALID_TOKEN = 2001,
  TOKEN_EXPIRED = 2002,
  PERMISSION_DENIED = 2003,
  
  // ä¸šåŠ¡ç›¸å…³ 3000-3999
  INSUFFICIENT_BALANCE = 3001,
  ORDER_NOT_FOUND = 3002,
}

// è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸
export class BusinessException extends HttpException {
  constructor(code: ErrorCode, message: string) {
    super({ code, message }, HttpStatus.BAD_REQUEST)
  }
}
```

**ğŸ“ å…³é”®å¥—è·¯ï¼š**
- **æ¨¡å—åŒ–ç»„ç»‡**ï¼šæŒ‰ä¸šåŠ¡é¢†åŸŸåˆ’åˆ†æ¨¡å—ï¼Œä¸æŒ‰æŠ€æœ¯å±‚æ¬¡
- **ç»Ÿä¸€å¯¼å‡º**ï¼šä½¿ç”¨index.tsæ–‡ä»¶ç»Ÿä¸€å¯¼å‡ºæ¨¡å—å†…å®¹
- **å‘½åä¸€è‡´**ï¼šæ–‡ä»¶åã€ç±»åã€æ–¹æ³•åä¿æŒä¸€è‡´çš„å‘½åé£æ ¼

### ğŸ“– ç¬¬41å¤©ï¼šå¼€å‘å¥—è·¯æ€»ç»“ä¸å®æˆ˜æ¸…å•

**ğŸš€ NestJSå¼€å‘æ ¸å¿ƒå¥—è·¯ï¼ˆå¿…èƒŒ5éï¼‰ï¼š**
1. **æ¨¡å—é©±åŠ¨å¼€å‘**ï¼šå…ˆè®¾è®¡æ¨¡å—ç»“æ„ï¼Œå†å®ç°å…·ä½“åŠŸèƒ½
2. **ä¾èµ–æ³¨å…¥ä¼˜å…ˆ**ï¼šæ‰€æœ‰ä¾èµ–é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ï¼Œä¸æ‰‹åŠ¨åˆ›å»º
3. **è£…é¥°å™¨å£°æ˜å¼**ï¼šç”¨è£…é¥°å™¨å£°æ˜è·¯ç”±ã€éªŒè¯ã€æƒé™ç­‰
4. **å¼‚å¸¸ç»Ÿä¸€å¤„ç†**ï¼šä¸šåŠ¡å¼‚å¸¸ã€éªŒè¯å¼‚å¸¸ã€ç³»ç»Ÿå¼‚å¸¸åˆ†ç±»å¤„ç†
5. **æ¥å£å¥‘çº¦æ˜ç¡®**ï¼šç”¨DTOå®šä¹‰æ¥å£è¾“å…¥è¾“å‡ºï¼Œç”¨Entityå®šä¹‰æ•°æ®æ¨¡å‹

**ğŸ›ï¸ MikroORMä½¿ç”¨æ ¸å¿ƒå¥—è·¯ï¼ˆå¿…èƒŒ5éï¼‰ï¼š**
1. **å®ä½“ç»§æ‰¿æ¨¡å¼**ï¼šåŸºç¡€å®ä½“å®šä¹‰é€šç”¨å­—æ®µï¼Œä¸šåŠ¡å®ä½“ç»§æ‰¿æ‰©å±•
2. **Repositoryå°è£…**ï¼šæ•°æ®è®¿é—®é€»è¾‘å°è£…åœ¨Repositoryä¸­ï¼ŒServiceè°ƒç”¨
3. **äº‹åŠ¡è¾¹ç•Œæ¸…æ™°**ï¼šæ¶‰åŠå¤šè¡¨æ“ä½œå¿…é¡»åŒ…è£…åœ¨äº‹åŠ¡ä¸­
4. **æŸ¥è¯¢ç±»å‹å®‰å…¨**ï¼šå……åˆ†åˆ©ç”¨TypeScriptç±»å‹ç³»ç»Ÿé¿å…è¿è¡Œæ—¶é”™è¯¯
5. **å…³ç³»æ˜ å°„è§„èŒƒ**ï¼šæ˜ç¡®å®šä¹‰å®ä½“é—´çš„ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»

**ğŸ“‹ å®æˆ˜å¼€å‘æ¸…å•ï¼ˆå¿…è®°ï¼‰ï¼š**

**ğŸ¯ å¼€å§‹æ–°åŠŸèƒ½æ—¶ï¼š**
- [ ] è®¾è®¡æ¨¡å—ç›®å½•ç»“æ„
- [ ] å®šä¹‰Entityå’Œå…³ç³»
- [ ] åˆ›å»ºDTOéªŒè¯è§„åˆ™
- [ ] å®ç°Repositoryæ•°æ®è®¿é—®
- [ ] ç¼–å†™Serviceä¸šåŠ¡é€»è¾‘
- [ ] å®ç°Controlleræ¥å£
- [ ] æ·»åŠ Swaggeræ–‡æ¡£
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•

**ğŸ”§ ä»£ç reviewæ¸…å•ï¼š**
- [ ] æ˜¯å¦æœ‰ç»Ÿä¸€çš„é”™è¯¯å¤„ç†
- [ ] æ˜¯å¦æœ‰é€‚å½“çš„æ—¥å¿—è®°å½•
- [ ] æ˜¯å¦æœ‰å‚æ•°éªŒè¯
- [ ] æ˜¯å¦æœ‰æƒé™æ§åˆ¶
- [ ] æ˜¯å¦æœ‰äº‹åŠ¡å¤„ç†
- [ ] æ˜¯å¦æœ‰æ€§èƒ½è€ƒè™‘
- [ ] æ˜¯å¦ç¬¦åˆå‘½åè§„èŒƒ

**ğŸ› è°ƒè¯•é—®é¢˜æ—¶ï¼š**
- [ ] æ£€æŸ¥æ—¥å¿—è¾“å‡º
- [ ] éªŒè¯æ•°æ®åº“æŸ¥è¯¢
- [ ] ç¡®è®¤å‚æ•°ä¼ é€’
- [ ] æ£€æŸ¥å¼‚å¸¸å †æ ˆ
- [ ] éªŒè¯æƒé™é…ç½®
- [ ] æµ‹è¯•è¾¹ç•Œæ¡ä»¶

**ğŸš€ æ€§èƒ½ä¼˜åŒ–æ—¶ï¼š**
- [ ] æ·»åŠ é€‚å½“ç¼“å­˜
- [ ] ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- [ ] æ£€æŸ¥N+1æŸ¥è¯¢é—®é¢˜
- [ ] è€ƒè™‘åˆ†é¡µå¤„ç†
- [ ] ç›‘æ§æ¥å£æ€§èƒ½
- [ ] ä¼˜åŒ–æ—¥å¿—è¾“å‡º

**ğŸ”’ å®‰å…¨æ£€æŸ¥æ—¶ï¼š**
- [ ] éªŒè¯è¾“å…¥å‚æ•°
- [ ] æ£€æŸ¥æƒé™æ§åˆ¶
- [ ] ç¡®è®¤æ•æ„Ÿä¿¡æ¯è¿‡æ»¤
- [ ] éªŒè¯SQLæ³¨å…¥é˜²æŠ¤
- [ ] æ£€æŸ¥è®¤è¯æµç¨‹
- [ ] ç¡®è®¤HTTPSä¼ è¾“

---

## ğŸ“… ç¬¬5å‘¨ï¼šNode.jsåº•å±‚çŸ¥è¯†ä½“ç³»ï¼ˆå¯é€‰æ‰©å±•ï¼‰

### ğŸ“– ç¬¬42å¤©ï¼šNode.jsåŸºç¡€æ¦‚å¿µä¸è¿è¡Œæ—¶

**ğŸš€ Node.jsæ ¸å¿ƒç‰¹æ€§ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. JavaScriptè¿è¡Œæ—¶ï¼š
   - åŸºäºChrome V8å¼•æ“ï¼ˆJavaScriptè§£ææ‰§è¡Œï¼‰
   - åŸºäºlibuvï¼ˆå¼‚æ­¥I/Oäº‹ä»¶å¾ªç¯ï¼‰
   - ä¸»çº¿ç¨‹å•çº¿ç¨‹ï¼ŒI/Oæ“ä½œä½¿ç”¨çº¿ç¨‹æ± 
   - éé˜»å¡I/Oæ“ä½œ

2. è®¾è®¡ç†å¿µï¼š
   - é«˜å¹¶å‘ã€ä½å»¶è¿Ÿ
   - é€‚åˆI/Oå¯†é›†å‹åº”ç”¨
   - CPUå¯†é›†å‹å¯ç”¨Worker Threadsæˆ–å­è¿›ç¨‹
   - äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ¨¡å‹
```

**âš¡ Node.js vs æµè§ˆå™¨å·®å¼‚ï¼ˆå¿…è®°ï¼‰ï¼š**
- **è¿è¡Œç¯å¢ƒ**ï¼šNode.js = V8 + libuvï¼Œæµè§ˆå™¨ = V8 + DOM + BOM
- **APIå·®å¼‚**ï¼šNode.jsæœ‰fsã€pathã€httpç­‰æ¨¡å—ï¼Œæµè§ˆå™¨æœ‰windowã€documentç­‰
- **æ¨¡å—ç³»ç»Ÿ**ï¼šNode.jsæ”¯æŒCommonJS/ES6æ¨¡å—ï¼Œæµè§ˆå™¨ä¸»è¦æ”¯æŒES6æ¨¡å—
- **å…¨å±€å¯¹è±¡**ï¼šNode.jsæ˜¯globalï¼Œæµè§ˆå™¨æ˜¯window

**ğŸ¯ Node.jsæ¶æ„å±‚æ¬¡ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
åº”ç”¨ä»£ç ï¼ˆJavaScriptï¼‰
     â†“
Node.js APIï¼ˆfsã€httpã€cryptoç­‰ï¼‰
     â†“
Node.jsç»‘å®šå±‚ï¼ˆC++ç»‘å®šï¼‰
     â†“
V8å¼•æ“ + libuv + å…¶ä»–C++åº“
     â†“
æ“ä½œç³»ç»Ÿï¼ˆæ–‡ä»¶ç³»ç»Ÿã€ç½‘ç»œç­‰ï¼‰
```

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
Node.js = å’–å•¡åº—æœåŠ¡å‘˜ï¼š
- å•çº¿ç¨‹ï¼ˆä¸€ä¸ªæœåŠ¡å‘˜ï¼‰
- äº‹ä»¶é©±åŠ¨ï¼ˆå®¢äººç‚¹å•å°±å¤„ç†ï¼‰
- éé˜»å¡ï¼ˆä¸‹å•ç»™åå¨åç»§ç»­æ¥å¾…å®¢äººï¼‰
- é«˜å¹¶å‘ï¼ˆåŒæ—¶æœåŠ¡å¤šä¸ªå®¢äººï¼‰

V8å¼•æ“ = æœåŠ¡å‘˜çš„å¤§è„‘ï¼ˆç†è§£å’Œæ‰§è¡ŒæŒ‡ä»¤ï¼‰
libuv = ä¼ èœç³»ç»Ÿï¼ˆå¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼‰
äº‹ä»¶å¾ªç¯ = æœåŠ¡å‘˜çš„å·¥ä½œæµç¨‹
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **äº‹ä»¶é©±åŠ¨**ï¼šé€šè¿‡äº‹ä»¶å’Œå›è°ƒå¤„ç†å¼‚æ­¥æ“ä½œ
- **éé˜»å¡I/O**ï¼šä¸ç­‰å¾…I/Oæ“ä½œå®Œæˆï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡
- **å•çº¿ç¨‹**ï¼šä¸»çº¿ç¨‹å•ä¸€ï¼Œä½†æœ‰çº¿ç¨‹æ± å¤„ç†I/Oæ“ä½œ

### ğŸ“– ç¬¬43å¤©ï¼šäº‹ä»¶å¾ªç¯æœºåˆ¶æ·±å…¥

**ğŸ”„ äº‹ä»¶å¾ªç¯æ ¸å¿ƒåŸç†ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
äº‹ä»¶å¾ªç¯å…­ä¸ªé˜¶æ®µï¼ˆæŒ‰é¡ºåºæ‰§è¡Œï¼‰ï¼š
1. Timeré˜¶æ®µï¼šæ‰§è¡ŒsetTimeoutã€setIntervalå›è°ƒ
2. Pendingé˜¶æ®µï¼šæ‰§è¡Œç³»ç»Ÿç›¸å…³å›è°ƒ
3. Idle/Prepareé˜¶æ®µï¼šå†…éƒ¨ä½¿ç”¨
4. Pollé˜¶æ®µï¼šè·å–æ–°çš„I/Oäº‹ä»¶ï¼Œæ‰§è¡Œç›¸å…³å›è°ƒ
5. Checké˜¶æ®µï¼šæ‰§è¡ŒsetImmediateå›è°ƒ
6. Closeé˜¶æ®µï¼šå…³é—­äº‹ä»¶çš„å›è°ƒ

æ¯ä¸ªé˜¶æ®µéƒ½æœ‰å›è°ƒé˜Ÿåˆ—ï¼ŒFIFOæ‰§è¡Œ
```

**âš¡ å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡ï¼ˆå¿…è®°ï¼‰ï¼š**
- **å¾®ä»»åŠ¡ï¼ˆMicrotaskï¼‰**ï¼š
  - Promise.then/catch/finally
  - process.nextTickï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
  - queueMicrotask
  - æ¯ä¸ªå®ä»»åŠ¡ç»“æŸåç«‹å³æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡

- **å®ä»»åŠ¡ï¼ˆMacrotaskï¼‰**ï¼š
  - setTimeout/setInterval
  - setImmediate
  - I/Oæ“ä½œå›è°ƒ
  - ä¸€æ¬¡äº‹ä»¶å¾ªç¯åªæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡

**ğŸ¯ æ‰§è¡Œä¼˜å…ˆçº§ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
åŒæ­¥ä»£ç  â†’ process.nextTick â†’ Promiseå¾®ä»»åŠ¡ â†’ setImmediate â†’ setTimeout

ç¤ºä¾‹æ‰§è¡Œé¡ºåºï¼š
console.log('1')                    // 1
setTimeout(() => console.log('2'))  // 6  
Promise.resolve().then(() => console.log('3'))  // 4
process.nextTick(() => console.log('4'))  // 3
setImmediate(() => console.log('5'))  // 5
console.log('6')                    // 2

æ³¨ï¼šsetTimeout vs setImmediateé¡ºåºå–å†³äºäº‹ä»¶å¾ªç¯é˜¶æ®µ
```

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
äº‹ä»¶å¾ªç¯ = é“¶è¡ŒæŸœå°å·¥ä½œæµç¨‹ï¼š
1. Timeré˜¶æ®µ = å¤„ç†é¢„çº¦å®¢æˆ·ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰
2. Pollé˜¶æ®µ = ç­‰å¾…å’Œå¤„ç†ç°åœºå®¢æˆ·ï¼ˆI/Oäº‹ä»¶ï¼‰
3. Checké˜¶æ®µ = å¤„ç†VIPå®¢æˆ·ï¼ˆsetImmediateï¼‰

process.nextTick = æ’é˜Ÿçš„ç´§æ€¥å®¢æˆ·ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
Promise = æŸœå°å†…éƒ¨äº‹åŠ¡ï¼ˆå¾®ä»»åŠ¡ä¼˜å…ˆï¼‰
setTimeout = é¢„çº¦å®¢æˆ·ï¼ˆæŒ‰æ—¶é—´æ’é˜Ÿï¼‰
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **Call Stack**ï¼šå‡½æ•°è°ƒç”¨æ ˆï¼ŒåŒæ­¥ä»£ç æ‰§è¡Œ
- **Event Queue**ï¼šäº‹ä»¶é˜Ÿåˆ—ï¼Œå¼‚æ­¥å›è°ƒç­‰å¾…æ‰§è¡Œ
- **Libuv**ï¼šè´Ÿè´£å¼‚æ­¥I/Oæ“ä½œçš„C++åº“

### ğŸ“– ç¬¬44å¤©ï¼šæ¨¡å—ç³»ç»Ÿä¸åŒ…ç®¡ç†

**ğŸ“¦ CommonJSæ¨¡å—ç³»ç»Ÿï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// å¯¼å‡ºæ–¹å¼
module.exports = { name: 'test' }    // å®Œæ•´æ›¿æ¢
exports.name = 'test'                // å±æ€§å¯¼å‡º

// å¯¼å…¥æ–¹å¼
const fs = require('fs')             // å†…ç½®æ¨¡å—
const utils = require('./utils')     // ç›¸å¯¹è·¯å¾„
const lodash = require('lodash')     // npmåŒ…

// æ¨¡å—è§£æè§„åˆ™
require('./file')      // æŸ¥æ‰¾ ./file.js â†’ ./file/index.js
require('lodash')      // æŸ¥æ‰¾ node_modules/lodash
```

**ğŸ”„ ES6æ¨¡å—ä¸CommonJSå¯¹æ¯”ï¼ˆå¿…è®°ï¼‰ï¼š**
- **CommonJS**ï¼š
  - è¿è¡Œæ—¶åŠ è½½ï¼ˆåŠ¨æ€ï¼‰
  - å€¼çš„æ‹·è´
  - åŒæ­¥åŠ è½½
  - thisæŒ‡å‘å½“å‰æ¨¡å—

- **ES6æ¨¡å—**ï¼š
  - ç¼–è¯‘æ—¶åŠ è½½ï¼ˆé™æ€ï¼‰
  - å€¼çš„å¼•ç”¨
  - å¼‚æ­¥åŠ è½½
  - thisæŒ‡å‘undefined

**ğŸ¯ æ¨¡å—ç¼“å­˜æœºåˆ¶ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// æ¨¡å—åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåç»­requireè¿”å›ç¼“å­˜
console.log(require.cache)  // æŸ¥çœ‹æ¨¡å—ç¼“å­˜
delete require.cache[require.resolve('./module')]  // æ¸…é™¤ç¼“å­˜

// require.resolve è·å–æ¨¡å—å®Œæ•´è·¯å¾„
const modulePath = require.resolve('lodash')
```

**ğŸ“ npmç”Ÿæ€ç³»ç»Ÿï¼ˆå¿…è®°ï¼‰ï¼š**
- **package.json**ï¼šé¡¹ç›®å…ƒä¿¡æ¯å’Œä¾èµ–å£°æ˜
- **node_modules**ï¼šä¾èµ–åŒ…å­˜å‚¨ç›®å½•
- **package-lock.json**ï¼šé”å®šä¾èµ–ç‰ˆæœ¬
- **npm scripts**ï¼šè‡ªå®šä¹‰è„šæœ¬å‘½ä»¤

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
æ¨¡å—ç³»ç»Ÿ = å›¾ä¹¦é¦†ï¼š
- require() = å€Ÿä¹¦ï¼ˆè·å–çŸ¥è¯†ï¼‰
- module.exports = å‡ºç‰ˆä¹¦ç±ï¼ˆåˆ†äº«çŸ¥è¯†ï¼‰
- node_modules = è—ä¹¦åº“ï¼ˆä¾èµ–å­˜å‚¨ï¼‰
- package.json = å›¾ä¹¦ç›®å½•ï¼ˆé¡¹ç›®æ¸…å•ï¼‰

æ¨¡å—ç¼“å­˜ = å·²è¯»ä¹¦ç±è®°å¿†ï¼ˆä¸é‡å¤é˜…è¯»ï¼‰
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **æ¨¡å—ä½œç”¨åŸŸ**ï¼šæ¯ä¸ªæ¨¡å—æœ‰ç‹¬ç«‹çš„ä½œç”¨åŸŸ
- **å¾ªç¯ä¾èµ–**ï¼šæ¨¡å—ç›¸äº’å¼•ç”¨æ—¶çš„å¤„ç†æœºåˆ¶
- **è¯­ä¹‰åŒ–ç‰ˆæœ¬**ï¼šmajor.minor.patchç‰ˆæœ¬è§„èŒƒ

### ğŸ“– ç¬¬45å¤©ï¼šæ–‡ä»¶ç³»ç»Ÿä¸æµæ“ä½œ

**ğŸ“ æ–‡ä»¶ç³»ç»ŸAPIåˆ†ç±»ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// åŒæ­¥æ“ä½œï¼ˆé˜»å¡ï¼‰
const data = fs.readFileSync('./file.txt', 'utf8')

// å¼‚æ­¥å›è°ƒï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰
fs.readFile('./file.txt', 'utf8', (err, data) => {
  if (err) throw err
  console.log(data)
})

// Promiseç‰ˆæœ¬ï¼ˆç°ä»£æ–¹å¼ï¼‰
const fsPromises = require('fs/promises')
const data = await fsPromises.readFile('./file.txt', 'utf8')

// æµå¼æ“ä½œï¼ˆå¤§æ–‡ä»¶ï¼‰
const stream = fs.createReadStream('./large-file.txt')
```

**ğŸ’§ Streamæµæ“ä½œï¼ˆå¿…è®°ï¼‰ï¼š**
- **Readable Stream**ï¼šå¯è¯»æµï¼ˆè¯»å–æ•°æ®æºï¼‰
- **Writable Stream**ï¼šå¯å†™æµï¼ˆå†™å…¥ç›®æ ‡ï¼‰
- **Duplex Stream**ï¼šåŒå·¥æµï¼ˆæ—¢å¯è¯»åˆå¯å†™ï¼‰
- **Transform Stream**ï¼šè½¬æ¢æµï¼ˆè¯»å–â†’å¤„ç†â†’å†™å…¥ï¼‰

**ğŸ¯ æµçš„æ ¸å¿ƒä¼˜åŠ¿ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. å†…å­˜æ•ˆç‡ï¼šåˆ†å—å¤„ç†ï¼Œä¸éœ€è¦åŠ è½½æ•´ä¸ªæ–‡ä»¶
2. æ—¶é—´æ•ˆç‡ï¼šè¾¹è¯»è¾¹å¤„ç†ï¼Œä¸ç­‰è¯»å®Œå†å¤„ç†
3. å¤„ç†å¤§æ–‡ä»¶ï¼šå¯ä»¥å¤„ç†è¶…è¿‡å†…å­˜é™åˆ¶çš„æ–‡ä»¶
4. ç»„åˆæ€§ï¼šå¯ä»¥ç”¨ç®¡é“è¿æ¥å¤šä¸ªæµ

// æµç®¡é“ç¤ºä¾‹
fs.createReadStream('input.txt')
  .pipe(zlib.createGzip())        // å‹ç¼©
  .pipe(fs.createWriteStream('output.gz'))
```

**ğŸ”§ å¸¸ç”¨æ–‡ä»¶æ“ä½œï¼ˆå¿…è®°ï¼‰ï¼š**
```javascript
// ç›®å½•æ“ä½œ
fs.mkdirSync('./newDir', { recursive: true })  // åˆ›å»ºç›®å½•
fs.readdirSync('./dir')                         // è¯»å–ç›®å½•
fs.rmSync('./dir', { recursive: true })        // åˆ é™¤ç›®å½•

// æ–‡ä»¶ä¿¡æ¯
const stats = fs.statSync('./file.txt')
stats.isFile()        // æ˜¯å¦æ–‡ä»¶
stats.isDirectory()   // æ˜¯å¦ç›®å½•
stats.size           // æ–‡ä»¶å¤§å°
stats.mtime          // ä¿®æ”¹æ—¶é—´

// è·¯å¾„æ“ä½œ
const path = require('path')
path.join('/a', 'b', 'c')           // /a/b/c
path.resolve('./file.txt')          // ç»å¯¹è·¯å¾„
path.extname('file.txt')            // .txt
path.basename('/a/b/file.txt')      // file.txt
```

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
æ–‡ä»¶ç³»ç»Ÿ = å›¾ä¹¦é¦†ç®¡ç†ï¼š
- åŒæ­¥è¯»å– = æ’é˜Ÿç­‰ä¹¦ï¼ˆé˜»å¡å…¶ä»–äººï¼‰
- å¼‚æ­¥è¯»å– = é¢„çº¦å–ä¹¦ï¼ˆä¸é˜»å¡ï¼‰
- æµè¯»å– = åˆ†ç« èŠ‚é˜…è¯»ï¼ˆé€æ­¥å¤„ç†ï¼‰

Stream = æµæ°´çº¿ç”Ÿäº§ï¼š
- Readable = åŸæ–™è¾“é€å¸¦
- Transform = åŠ å·¥å¤„ç†ç«™
- Writable = æˆå“æ”¶é›†ç«™
- Pipe = è¿æ¥ä¼ é€å¸¦
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **èƒŒå‹ï¼ˆBackpressureï¼‰**ï¼šå†™å…¥é€Ÿåº¦è¶…è¿‡å¤„ç†èƒ½åŠ›æ—¶çš„æ§åˆ¶æœºåˆ¶
- **é”™è¯¯å¤„ç†**ï¼šstream.on('error', handler)å¤„ç†æµé”™è¯¯
- **æ–‡ä»¶æè¿°ç¬¦**ï¼šæ“ä½œç³»ç»Ÿåˆ†é…ç»™æ–‡ä»¶çš„æ ‡è¯†ç¬¦

### ğŸ“– ç¬¬46å¤©ï¼šç½‘ç»œç¼–ç¨‹ä¸HTTPæ¨¡å—

**ğŸŒ HTTPæ¨¡å—åŸºç¡€ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// åˆ›å»ºHTTPæœåŠ¡å™¨
const http = require('http')
const server = http.createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/plain' })
  res.end('Hello World')
})
server.listen(3000)

// å‘èµ·HTTPè¯·æ±‚
http.get('http://api.example.com', (res) => {
  let data = ''
  res.on('data', chunk => data += chunk)
  res.on('end', () => console.log(data))
})
```

**ğŸ”§ Requestå’ŒResponseå¯¹è±¡ï¼ˆå¿…è®°ï¼‰ï¼š**
- **Requestï¼ˆreqï¼‰å¯¹è±¡**ï¼š
  - req.methodï¼šHTTPæ–¹æ³•ï¼ˆGETã€POSTç­‰ï¼‰
  - req.urlï¼šè¯·æ±‚è·¯å¾„
  - req.headersï¼šè¯·æ±‚å¤´
  - req.on('data')ï¼šæ¥æ”¶è¯·æ±‚ä½“æ•°æ®

- **Responseï¼ˆresï¼‰å¯¹è±¡**ï¼š
  - res.writeHead()ï¼šè®¾ç½®çŠ¶æ€ç å’Œå“åº”å¤´
  - res.write()ï¼šå†™å…¥å“åº”ä½“æ•°æ®
  - res.end()ï¼šç»“æŸå“åº”

**âš¡ URLè§£æä¸æŸ¥è¯¢å‚æ•°ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
const url = require('url')
const querystring = require('querystring')

// URLè§£æ
const parsedUrl = url.parse('http://example.com:3000/path?name=test&age=20')
// {
//   protocol: 'http:',
//   host: 'example.com:3000',
//   pathname: '/path',
//   search: '?name=test&age=20'
// }

// æŸ¥è¯¢å‚æ•°è§£æ
const query = querystring.parse('name=test&age=20')
// { name: 'test', age: '20' }
```

**ğŸ” HTTPSä¸åŠ å¯†ï¼ˆå¿…è®°ï¼‰ï¼š**
```javascript
const https = require('https')
const fs = require('fs')

// åˆ›å»ºHTTPSæœåŠ¡å™¨
const options = {
  key: fs.readFileSync('private-key.pem'),
  cert: fs.readFileSync('certificate.pem')
}

https.createServer(options, (req, res) => {
  res.writeHead(200)
  res.end('Secure connection')
}).listen(443)
```

**ğŸ¯ WebSocketæ”¯æŒï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// WebSocketæ¡æ‰‹å‡çº§
server.on('upgrade', (request, socket, head) => {
  if (request.headers.upgrade === 'websocket') {
    // å¤„ç†WebSocketè¿æ¥
    handleWebSocket(request, socket, head)
  }
})

// Socketè¿æ¥å¤„ç†
const net = require('net')
const server = net.createServer((socket) => {
  socket.on('data', (data) => {
    console.log('Received:', data.toString())
    socket.write('Echo: ' + data)
  })
})
```

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
HTTPæœåŠ¡å™¨ = é¤å…ï¼š
- request = å®¢äººç‚¹å•
- response = æœåŠ¡å‘˜å›åº”
- ä¸­é—´ä»¶ = å¨æˆ¿åŠ å·¥æµç¨‹
- è·¯ç”± = ä¸åŒçª—å£ï¼ˆå¤–å–ã€å ‚é£Ÿã€å’–å•¡ï¼‰

WebSocket = ç”µè¯é€šè¯ï¼š
- HTTP = å†™ä¿¡ï¼ˆä¸€é—®ä¸€ç­”ï¼‰
- WebSocket = æ‰“ç”µè¯ï¼ˆåŒå‘å®æ—¶ï¼‰
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **Keep-Alive**ï¼šHTTPè¿æ¥å¤ç”¨æœºåˆ¶
- **è¯·æ±‚ç®¡é“åŒ–**ï¼šåœ¨ä¸€ä¸ªè¿æ¥ä¸Šå‘é€å¤šä¸ªè¯·æ±‚
- **ä»£ç†æœåŠ¡å™¨**ï¼šè½¬å‘HTTPè¯·æ±‚çš„ä¸­é—´æœåŠ¡å™¨

### ğŸ“– ç¬¬47å¤©ï¼šè¿›ç¨‹ã€å­è¿›ç¨‹ä¸é›†ç¾¤

**âšš Node.jsè¿›ç¨‹æ¨¡å‹ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// è¿›ç¨‹ä¿¡æ¯
console.log('PID:', process.pid)           // è¿›ç¨‹ID
console.log('Platform:', process.platform) // æ“ä½œç³»ç»Ÿ
console.log('Node Version:', process.version) // Nodeç‰ˆæœ¬
console.log('Memory Usage:', process.memoryUsage()) // å†…å­˜ä½¿ç”¨

// è¿›ç¨‹äº‹ä»¶
process.on('exit', (code) => {
  console.log('è¿›ç¨‹é€€å‡ºï¼Œé€€å‡ºç :', code)
})

process.on('uncaughtException', (err) => {
  console.error('æœªæ•è·çš„å¼‚å¸¸:', err)
  process.exit(1)
})
```

**ğŸ”„ å­è¿›ç¨‹åˆ›å»ºæ–¹å¼ï¼ˆå¿…è®°ï¼‰ï¼š**
```javascript
const { spawn, exec, execFile, fork } = require('child_process')

// spawn: å¯åŠ¨æ–°è¿›ç¨‹æ‰§è¡Œå‘½ä»¤
const ls = spawn('ls', ['-la'])
ls.stdout.on('data', (data) => console.log(data.toString()))

// exec: æ‰§è¡Œshellå‘½ä»¤
exec('ls -la', (error, stdout, stderr) => {
  if (error) throw error
  console.log(stdout)
})

// fork: åˆ›å»ºæ–°çš„Node.jsè¿›ç¨‹
const child = fork('./worker.js')
child.send({ message: 'hello' })
child.on('message', (msg) => console.log('æ”¶åˆ°æ¶ˆæ¯:', msg))
```

**ğŸ­ é›†ç¾¤æ¨¡å¼ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
const cluster = require('cluster')
const numCPUs = require('os').cpus().length

if (cluster.isMaster) {
  // ä¸»è¿›ç¨‹ï¼šåˆ›å»ºå·¥ä½œè¿›ç¨‹
  for (let i = 0; i < numCPUs; i++) {
    cluster.fork()
  }
  
  cluster.on('exit', (worker) => {
    console.log(`å·¥ä½œè¿›ç¨‹ ${worker.process.pid} é€€å‡º`)
    cluster.fork() // é‡å¯å·¥ä½œè¿›ç¨‹
  })
} else {
  // å·¥ä½œè¿›ç¨‹ï¼šå¤„ç†å®é™…è¯·æ±‚
  require('./app.js')
}
```

**âš¡ è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰ï¼ˆå¿…è®°ï¼‰ï¼š**
```javascript
// çˆ¶å­è¿›ç¨‹é€šä¿¡
// parent.js
const child = fork('./child.js')
child.send({ type: 'start', data: 'hello' })
child.on('message', (message) => {
  console.log('çˆ¶è¿›ç¨‹æ”¶åˆ°:', message)
})

// child.js
process.on('message', (message) => {
  console.log('å­è¿›ç¨‹æ”¶åˆ°:', message)
  process.send({ type: 'response', result: 'processed' })
})
```

**ğŸ¯ è¿›ç¨‹ç®¡ç†æœ€ä½³å®è·µï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. ä¼˜é›…å…³é—­ï¼š
   - ç›‘å¬SIGTERMä¿¡å·
   - å…³é—­æœåŠ¡å™¨åœæ­¢æ¥æ”¶æ–°è¯·æ±‚
   - ç­‰å¾…ç°æœ‰è¯·æ±‚å¤„ç†å®Œæˆ
   - å…³é—­æ•°æ®åº“è¿æ¥
   - é€€å‡ºè¿›ç¨‹

2. é”™è¯¯å¤„ç†ï¼š
   - æ•è·æœªå¤„ç†å¼‚å¸¸
   - è®°å½•é”™è¯¯æ—¥å¿—
   - é€šçŸ¥ç›‘æ§ç³»ç»Ÿ
   - é‡å¯è¿›ç¨‹

3. è´Ÿè½½å‡è¡¡ï¼š
   - ä½¿ç”¨clusteræ¨¡å—åˆ›å»ºå¤šè¿›ç¨‹
   - PM2è¿›ç¨‹ç®¡ç†å™¨
   - åå‘ä»£ç†ï¼ˆNginxï¼‰
```

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
ä¸»è¿›ç¨‹ = é¤å…ç»ç†ï¼š
- åˆ†é…ä»»åŠ¡ç»™æœåŠ¡å‘˜ï¼ˆå·¥ä½œè¿›ç¨‹ï¼‰
- ç›‘æ§æœåŠ¡å‘˜çŠ¶æ€
- æœåŠ¡å‘˜ç¦»èŒæ—¶æ‹›è˜æ–°äºº

å·¥ä½œè¿›ç¨‹ = æœåŠ¡å‘˜ï¼š
- å¤„ç†å…·ä½“å®¢äººéœ€æ±‚
- å‘ç»ç†æ±‡æŠ¥å·¥ä½œçŠ¶æ€
- æŒ‰ç»ç†æŒ‡ç¤ºæ‰§è¡Œä»»åŠ¡

é›†ç¾¤ = è¿é”åº—ï¼š
- å¤šä¸ªåˆ†åº—åŒæ—¶è¥ä¸šï¼ˆå¤šè¿›ç¨‹ï¼‰
- åˆ†æ‹…å®¢æµå‹åŠ›ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰
- ä¸€å®¶åº—å…³é—­ä¸å½±å“å…¶ä»–åº—ï¼ˆæ•…éšœéš”ç¦»ï¼‰
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **è´Ÿè½½å‡è¡¡**ï¼šè¯·æ±‚åˆ†å‘åˆ°å¤šä¸ªå·¥ä½œè¿›ç¨‹
- **é›¶åœæœºé‡å¯**ï¼šæ›´æ–°ä»£ç æ—¶ä¸ä¸­æ–­æœåŠ¡
- **è¿›ç¨‹ç›‘æ§**ï¼šç›‘æ§è¿›ç¨‹çŠ¶æ€å’Œèµ„æºä½¿ç”¨

### ğŸ“– ç¬¬48å¤©ï¼šNode.jsæ€§èƒ½ä¼˜åŒ–ä¸ç”Ÿæ€ç³»ç»Ÿ

**âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// 1. äº‹ä»¶å¾ªç¯ä¼˜åŒ–
// é¿å…é˜»å¡äº‹ä»¶å¾ªç¯
setImmediate(() => {
  // å°†CPUå¯†é›†ä»»åŠ¡åˆ†å‰²
  heavyComputation()
})

// 2. å†…å­˜ä¼˜åŒ–
// åŠæ—¶é‡Šæ”¾å¤§å¯¹è±¡å¼•ç”¨
let largeData = loadLargeData()
processData(largeData)
largeData = null // å¸®åŠ©åƒåœ¾å›æ”¶

// 3. Streamä½¿ç”¨
// å¤„ç†å¤§æ–‡ä»¶ç”¨æµï¼Œä¸è¦ä¸€æ¬¡è¯»å…¥å†…å­˜
fs.createReadStream('large-file.txt')
  .pipe(transform)
  .pipe(fs.createWriteStream('output.txt'))

// 4. è¿æ¥æ± 
// æ•°æ®åº“è¿æ¥å¤ç”¨
const pool = mysql.createPool({
  connectionLimit: 10,
  host: 'localhost',
  database: 'test'
})
```

**ğŸ”§ å†…å­˜ç®¡ç†ä¸åƒåœ¾å›æ”¶ï¼ˆå¿…è®°ï¼‰ï¼š**
- **å †å†…å­˜ç»“æ„**ï¼š
  - æ–°ç”Ÿä»£ï¼ˆYoung Generationï¼‰ï¼šçŸ­æœŸå¯¹è±¡
  - è€ç”Ÿä»£ï¼ˆOld Generationï¼‰ï¼šé•¿æœŸå¯¹è±¡
  - å¤§å¯¹è±¡ç©ºé—´ï¼šè¶…å¤§å¯¹è±¡ç›´æ¥åˆ†é…

- **åƒåœ¾å›æ”¶ç®—æ³•**ï¼š
  - Scavengeï¼šæ–°ç”Ÿä»£åƒåœ¾å›æ”¶ï¼ˆå¿«é€Ÿï¼‰
  - Mark-Sweepï¼šè€ç”Ÿä»£æ ‡è®°æ¸…é™¤
  - Mark-Compactï¼šè€ç”Ÿä»£æ ‡è®°æ•´ç†

**ğŸ¯ æ€§èƒ½ç›‘æ§å·¥å…·ï¼ˆå¿…èƒŒï¼‰ï¼š**
```javascript
// 1. å†…ç½®æ€§èƒ½ç›‘æ§
const { performance, PerformanceObserver } = require('perf_hooks')

const obs = new PerformanceObserver((list) => {
  list.getEntries().forEach((entry) => {
    console.log(`${entry.name}: ${entry.duration}ms`)
  })
})
obs.observe({ entryTypes: ['measure'] })

// 2. å†…å­˜ä½¿ç”¨ç›‘æ§
setInterval(() => {
  const usage = process.memoryUsage()
  console.log('å†…å­˜ä½¿ç”¨:', {
    rss: Math.round(usage.rss / 1024 / 1024) + ' MB',      // æ€»å†…å­˜
    heapUsed: Math.round(usage.heapUsed / 1024 / 1024) + ' MB', // å †ä½¿ç”¨
    external: Math.round(usage.external / 1024 / 1024) + ' MB'  // å¤–éƒ¨å†…å­˜
  })
}, 5000)

// 3. CPUä½¿ç”¨ç›‘æ§
const startUsage = process.cpuUsage()
setTimeout(() => {
  const usage = process.cpuUsage(startUsage)
  console.log('CPUä½¿ç”¨:', usage)
}, 1000)
```

**ğŸ—ï¸ Node.jsç”Ÿæ€ç³»ç»Ÿæ ¸å¿ƒï¼ˆå¿…è®°ï¼‰ï¼š**
- **åŒ…ç®¡ç†å™¨**ï¼š
  - npmï¼šå®˜æ–¹åŒ…ç®¡ç†å™¨
  - yarnï¼šFacebookå¼€å‘ï¼Œæ›´å¿«æ›´å®‰å…¨
  - pnpmï¼šèŠ‚çœç£ç›˜ç©ºé—´ï¼Œç¬¦å·é“¾æ¥å…±äº«

- **æ„å»ºå·¥å…·**ï¼š
  - Webpackï¼šæ¨¡å—æ‰“åŒ…å™¨
  - Rollupï¼šES6æ¨¡å—æ‰“åŒ…
  - Viteï¼šå¿«é€Ÿæ„å»ºå·¥å…·
  - esbuildï¼šè¶…å¿«JavaScriptæ‰“åŒ…å™¨

- **æµ‹è¯•æ¡†æ¶**ï¼š
  - Jestï¼šåŠŸèƒ½å…¨é¢çš„æµ‹è¯•æ¡†æ¶
  - Mochaï¼šçµæ´»çš„æµ‹è¯•æ¡†æ¶
  - Vitestï¼šåŸºäºViteçš„å¿«é€Ÿæµ‹è¯•

**ğŸ¯ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
1. è¿›ç¨‹ç®¡ç†ï¼š
   - PM2ï¼šç”Ÿäº§çº§è¿›ç¨‹ç®¡ç†å™¨
   - Dockerï¼šå®¹å™¨åŒ–éƒ¨ç½²
   - Kubernetesï¼šå®¹å™¨ç¼–æ’

2. è´Ÿè½½å‡è¡¡ï¼š
   - Nginxï¼šåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡
   - HAProxyï¼šé«˜å¯ç”¨è´Ÿè½½å‡è¡¡å™¨
   - AWS ELBï¼šäº‘ç«¯è´Ÿè½½å‡è¡¡

3. ç›‘æ§å‘Šè­¦ï¼š
   - APMå·¥å…·ï¼šNew Relicã€DataDog
   - æ—¥å¿—æ”¶é›†ï¼šELK Stackã€Fluentd
   - é”™è¯¯è¿½è¸ªï¼šSentryã€Bugsnag

4. å®‰å…¨é˜²æŠ¤ï¼š
   - HTTPSè¯ä¹¦é…ç½®
   - å®‰å…¨å¤´è®¾ç½®
   - ä¾èµ–æ¼æ´æ‰«æ
   - è®¿é—®é¢‘ç‡é™åˆ¶
```

**ğŸ­ ç”Ÿæ´»åŒ–ç±»æ¯”ï¼ˆå¿…èƒŒï¼‰ï¼š**
```
Node.jsç”Ÿæ€ = åŸå¸‚åŸºç¡€è®¾æ–½ï¼š
- npm = å•†åº—ï¼ˆè·å–å·¥å…·å’Œææ–™ï¼‰
- æ¡†æ¶ = å»ºç­‘æ¨¡æ¿ï¼ˆå¿«é€Ÿå»ºæˆ¿ï¼‰
- å·¥å…·é“¾ = æ–½å·¥è®¾å¤‡ï¼ˆæé«˜æ•ˆç‡ï¼‰
- ç›‘æ§ = å®‰é˜²ç³»ç»Ÿï¼ˆä¿éšœå®‰å…¨ï¼‰

æ€§èƒ½ä¼˜åŒ– = äº¤é€šä¼˜åŒ–ï¼š
- äº‹ä»¶å¾ªç¯ = ä¸»å¹²é“ï¼ˆä¿æŒç•…é€šï¼‰
- å†…å­˜ç®¡ç† = åƒåœ¾æ¸…ç†ï¼ˆåŠæ—¶å›æ”¶ï¼‰
- ç¼“å­˜ = å°±è¿‘æœåŠ¡ï¼ˆå‡å°‘è·¯ç¨‹ï¼‰
- é›†ç¾¤ = å¤šè½¦é“ï¼ˆåˆ†æµå‹åŠ›ï¼‰
```

**ğŸ“ å…³é”®æ¦‚å¿µï¼š**
- **äº‹ä»¶å¾ªç¯å»¶è¿Ÿ**ï¼šç›‘æ§äº‹ä»¶å¾ªç¯æ˜¯å¦è¢«é˜»å¡
- **èƒŒå‹å¤„ç†**ï¼šæµå¤„ç†ä¸­çš„å‹åŠ›ç¼“è§£æœºåˆ¶
- **çƒ­é‡è½½**ï¼šå¼€å‘æ—¶ä»£ç å˜æ›´è‡ªåŠ¨é‡å¯

**ğŸ§  ç¬¬5å‘¨Node.jsçŸ¥è¯†æ€»ç»“ï¼ˆé€‰å­¦ï¼Œå¯è·³è¿‡ï¼‰ï¼š**
1. **è¿è¡Œæ—¶ç‰¹æ€§**ï¼šV8å¼•æ“+libuvï¼Œå•çº¿ç¨‹äº‹ä»¶é©±åŠ¨ï¼Œéé˜»å¡I/O
2. **äº‹ä»¶å¾ªç¯**ï¼šå…­ä¸ªé˜¶æ®µï¼Œå¾®ä»»åŠ¡ä¼˜å…ˆçº§ï¼Œprocess.nextTickæœ€é«˜
3. **æ¨¡å—ç³»ç»Ÿ**ï¼šCommonJSè¿è¡Œæ—¶åŠ è½½ï¼ŒES6ç¼–è¯‘æ—¶åŠ è½½ï¼Œæ¨¡å—ç¼“å­˜æœºåˆ¶
4. **æ–‡ä»¶æµæ“ä½œ**ï¼šåŒæ­¥å¼‚æ­¥Promiseä¸‰ç§æ–¹å¼ï¼ŒStreamåˆ†å—å¤„ç†å¤§æ–‡ä»¶
5. **ç½‘ç»œç¼–ç¨‹**ï¼šHTTPæ¨¡å—åˆ›å»ºæœåŠ¡å™¨ï¼ŒWebSocketåŒå‘é€šä¿¡ï¼ŒHTTPSåŠ å¯†
6. **è¿›ç¨‹é›†ç¾¤**ï¼šclusterå¤šè¿›ç¨‹ï¼ŒIPCè¿›ç¨‹é€šä¿¡ï¼Œè´Ÿè½½å‡è¡¡æå‡æ€§èƒ½
7. **æ€§èƒ½ä¼˜åŒ–**ï¼šå†…å­˜åƒåœ¾å›æ”¶ï¼Œäº‹ä»¶å¾ªç¯ç›‘æ§ï¼Œç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ç­–ç•¥

---

**ğŸ“ æœ€ç»ˆèƒŒè¯µå£è¯€ï¼ˆç»ˆæç‰ˆï¼‰ï¼š**
```
æ¨¡å—å®ä½“ä»“å‚¨æœåŠ¡ï¼Œæ§åˆ¶è£…é¥°ä¾èµ–æ³¨å…¥
ç½‘ç»œåè®®TCP UDPï¼ŒHTTP RPCé€šä¿¡æ˜äº†
æ¶æ„æ¼”è¿›å•ä½“å¾®æœåŠ¡ï¼Œåˆ†å¸ƒå¼CAPä¸€è‡´æ€§
å¹¶å‘çº¿ç¨‹åç¨‹é”ï¼Œæ¶ˆæ¯é˜Ÿåˆ—äº‹ä»¶é©±åŠ¨
ç¼“å­˜åˆ†å±‚å­˜å‚¨é€‰å‹ï¼Œç³»ç»Ÿè®¾è®¡å¯è§‚æµ‹æ€§
å¼‚å¸¸å¤„ç†æ—¥å¿—ç›‘æ§ï¼Œæ€§èƒ½ä¼˜åŒ–è´Ÿè½½å‡è¡¡
NodeåŸºç¡€äº‹ä»¶å¾ªç¯ï¼Œæ¨¡å—æ–‡ä»¶æµç½‘ç»œ
è¿›ç¨‹é›†ç¾¤æ€§èƒ½ä¼˜åŒ–ï¼Œç”Ÿæ€å·¥å…·éƒ¨ç½²è¿ç»´
æµ‹è¯•æ–‡æ¡£æƒé™å®‰å…¨ï¼Œè§„èŒƒæ¸…å•å¥—è·¯ç†Ÿç»ƒ
åç«¯æ€ç»´å·²å»ºç«‹ï¼Œä¼ä¸šå¼€å‘å¾—å¿ƒåº”æ‰‹
```
